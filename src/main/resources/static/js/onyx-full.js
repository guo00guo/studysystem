if(!this.JSON)this.JSON={};
(function(){function q(b){return b<10?"0"+b:b}function l(b){j.lastIndex=0;return j.test(b)?'"'+b.replace(j,function(f){var d=g[f];return typeof d==="string"?d:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function p(b,f){var d,h,a=m,n,r=f[b];if(r&&typeof r==="object"&&typeof r.toJSON==="function")r=r.toJSON(b);if(typeof c==="function")r=c.call(f,b,r);switch(typeof r){case "string":return l(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);case "object":if(!r)return"null";
m+=k;n=[];if(Object.prototype.toString.apply(r)==="[object Array]"){h=r.length;for(b=0;b<h;b+=1)n[b]=p(b,r)||"null";f=n.length===0?"[]":m?"[\n"+m+n.join(",\n"+m)+"\n"+a+"]":"["+n.join(",")+"]";m=a;return f}if(c&&typeof c==="object"){h=c.length;for(b=0;b<h;b+=1){d=c[b];if(typeof d==="string")if(f=p(d,r))n.push(l(d)+(m?": ":":")+f)}}else for(d in r)if(Object.hasOwnProperty.call(r,d))if(f=p(d,r))n.push(l(d)+(m?": ":":")+f);f=n.length===0?"{}":m?"{\n"+m+n.join(",\n"+m)+"\n"+a+"}":"{"+n.join(",")+"}";
m=a;return f}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+q(this.getUTCMonth()+1)+"-"+q(this.getUTCDate())+"T"+q(this.getUTCHours())+":"+q(this.getUTCMinutes())+":"+q(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,k,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;if(typeof JSON.stringify!=="function")JSON.stringify=function(b,f,d){var h;k=m="";if(typeof d==="number")for(h=0;h<d;h+=1)k+=" ";else if(typeof d==="string")k=d;if((c=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw new Error("JSON.stringify");return p("",
{"":b})};if(typeof JSON.parse!=="function")JSON.parse=function(b,f){function d(h,a){var n,r,t=h[a];if(t&&typeof t==="object")for(n in t)if(Object.hasOwnProperty.call(t,n)){r=d(t,n);if(r!==undefined)t[n]=r;else delete t[n]}return f.call(h,a,t)}o.lastIndex=0;if(o.test(b))b=b.replace(o,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){b=eval("("+b+")");return typeof f==="function"?d({"":b},""):b}throw new SyntaxError("JSON.parse");}})();
LazyLoad=function(q){function l(a,n){a=q.createElement(a);var r;for(r in n)n.hasOwnProperty(r)&&a.setAttribute(r,n[r]);return a}function p(a){var n=b[a],r,t;if(n){r=n.callback;t=n.urls;t.shift();f=0;t.length||(r&&r.call(n.context,n.obj),b[a]=null,d[a].length&&j(a))}}function o(){var a=navigator.userAgent;g={async:q.createElement("script").async===true};(g.webkit=/AppleWebKit\//.test(a))||(g.ie=/MSIE/.test(a))||(g.opera=/Opera/.test(a))||(g.gecko=/Gecko\//.test(a))||(g.unknown=true)}function j(a,n,
r,t,u){var v=function(){p(a)},x=a==="css",z=[],C,F,E,I;g||o();if(n)if(n=typeof n==="string"?[n]:n.concat(),x||g.async||g.gecko||g.opera)d[a].push({urls:n,callback:r,obj:t,context:u});else{C=0;for(F=n.length;C<F;++C)d[a].push({urls:[n[C]],callback:C===F-1?r:null,obj:t,context:u})}if(!b[a]&&(I=b[a]=d[a].shift())){c||(c=q.head||q.getElementsByTagName("head")[0]);n=I.urls;C=0;for(F=n.length;C<F;++C){r=n[C];x?(E=g.gecko?l("style"):l("link",{href:r,rel:"stylesheet"})):(E=l("script",{src:r}),E.async=false);
E.className="lazyload";E.setAttribute("charset","utf-8");g.ie&&!x?(E.onreadystatechange=function(){if(/loaded|complete/.test(E.readyState)){E.onreadystatechange=null;v()}}):x&&(g.gecko||g.webkit)?g.webkit?(I.urls[C]=E.href,k()):(E.innerHTML='@import "'+r+'";',m(E)):(E.onload=E.onerror=v);z.push(E)}C=0;for(F=z.length;C<F;++C)c.appendChild(z[C])}}function m(a){var n;try{n=!!a.sheet.cssRules}catch(r){f+=1;f<200?setTimeout(function(){m(a)},50):n&&p("css");return}p("css")}function k(){var a=b.css,n;if(a){for(n=
h.length;--n>=0;)if(h[n].href===a.urls[0]){p("css");break}f+=1;a&&(f<200?setTimeout(k,50):p("css"))}}var g,c,b={},f=0,d={css:[],js:[]},h=q.styleSheets;return{css:function(a,n,r,t){j("css",a,n,r,t)},js:function(a,n,r,t){j("js",a,n,r,t)}}}(this.document);var onyx=function(){};
(function(){var q=onyx;q.__package=function(l){l=l.split(".");for(var p=this,o="",j,m=0,k=l.length;m<k;m++){o=l[m];j=p[o];p=typeof j==="undefined"?(p[o]=function(){}):j}return new q.Package(p)};q.Package=function(l){this._pkg=l};q.Package.prototype={__class:function(l){return new q.Class(this._pkg[l]=function(p){typeof this.__init==="function"&&this.__init(p)})},__interface:function(l){return new q.Interface(this._pkg[l]=function(){throw new Error("\u4e0d\u80fd\u5b9e\u4f8b\u5316\u63a5\u53e3! "+l);
})}};q.Class=function(l){this._class=l;this._interfaces=[]};q.Class.prototype={__extends:function(l){q.__extends(this._class,l);return this},__implements:function(){for(var l=this._interfaces,p=0,o=arguments.length;p<o;p++)l.push(arguments[p]);return this},__methods:function(l){var p=this._class;q.__methods(p,l);q.__implements(p,this._interfaces);return this},__static:function(l){q.__static(this._class,l);return this}};q.Interface=function(l){this.__fn=l};q.Interface.prototype={__methods:function(l){var p=
this.__fn;for(var o in l){var j=l[o];if(typeof j==="function")p.prototype[o]=j;else throw new Error("\u9519\u8bef\uff1a"+o+"\uff0c \u63a5\u53e3\u6210\u5458\u5fc5\u987b\u662f\u51fd\u6570\u7c7b\u578b");}}};q.__extends=function(l,p){var o=function(){};if(typeof p==="undefined")throw new Error("superClass\u53c2\u6570\u9519\u8bef");o.prototype=p.prototype;o=new o;o.constructor=l;o.__callSuper=function(m){var k=this.__callSuper.caller.arguments,g=arguments.length,c=[];if(g>1)for(var b=1;b<g;b++)c.push(arguments[b]);
return q.__callSuper(this,m,c,k)};l.prototype=o;var j=p.prototype;o.__super__=j;o.__super=function(){var m=arguments.length,k=arguments[0],g=arguments[1],c=g.length,b=this.__super__,f=m===0?b.__init:b[k],d=f.length,h=[],a=1;if(c>d){a=g[c-1];for(g=0;g<a;g++)b=b.__super__;f=m===0?b.__init:b[k];a++}if(typeof f!=="function")throw new Error("\u4e0d\u5b58\u5728\u65b9\u6cd5:"+k);for(g=2;g<m;g++)h.push(arguments[g]);h[d]=a;return f.apply(this,h)};if(j.constructor==Object.prototype.constructor)j.constructor=
p;return l};q.__methods=function(l,p){for(var o in p){var j=p[o];if(typeof j==="function")l.prototype[o]=j}return l};q.__static=function(l,p){for(var o in p)l[o]=p[o];typeof l.__init==="function"&&l.__init();return l};q.__implements=function(l,p){for(var o=[],j=p.length,m=0;m<j;m++){var k=p[m];for(var g in k.prototype)typeof l.prototype[g]!=="function"&&o.push(g);if(o.length>0)throw new Error("\u672a\u5b9e\u73b0\u63a5\u53e3\u6210\u5458:"+o.join(","));}};q.throttle=function(l,p){p||(p=150);var o=(new Date).getTime();
return function(){var j=(new Date).getTime();if(j-o>p){o=j;l.apply(null,arguments)}}};q.error=function(l){if(typeof l==="string")throw new Error(l);}})();__package=onyx.__package;(function(){onyx.__conf={};onyx.conf=function(q){var l=onyx.__conf;if(typeof q==="string")return l[q];else if(typeof q==="object")for(var p in q)l[p]=q[p]};onyx.callback={}})();(function(){__package("onyx").__interface("ICollection").__methods({each:function(){}})})();
(function(){__package("onyx").__class("Hashtable").__implements(onyx.ICollection).__methods({__init:function(){this.__container={};this.__size=0},put:function(q,l){if(typeof q=="undefined")throw new Error("\u952e\u503c\u4e0d\u80fd\u4e3a undefined \u7c7b\u578b! value:"+JSON.stringify(l));if(this.contains(q))throw new Error("\u5df2\u5b58\u5728\u952e\u503c-"+q+",value="+l);this.__container[q]=typeof l=="undefined"?null:l;this.__size++;return true},remove:function(q){if(this.contains(q)){delete this.__container[q];
this.__size--}},size:function(){return this.__size},get:function(q){return this.__container[q]},set:function(q,l){if(this.contains(q))this.__container[q]=typeof l=="undefined"?null:l;else this.put(q,l)},contains:function(q){return typeof this.__container[q]!="undefined"},clear:function(){var q=this.__container;for(var l in q)delete q[l];this.__size=0},toString:function(){var q="",l=this.__container;for(var p in l)q+=","+p+"="+l[p];if(q.length>0)q=q.substr(1,q.length);return"{"+q+"}"},valArray:function(){var q=
[],l=this.__container;for(var p in l)q.push(l[p]);return q},valString:function(){var q="",l=this.__container;for(var p in l)q+=","+l[p];if(q.length>0)q=q.substring(1);return q},each:function(q){var l=this.__container;for(var p in l)if(q(l[p],p)===false)break}})})();
(function(){var q=onyx.Hashtable;__package("onyx").__class("Dict").__implements(onyx.ICollection).__methods({__init:function(l){if(typeof l.props!=="string"||!l.list)throw new Error("\u4f20\u5165\u53c2\u6570\u9519\u8bef");this.__array=[];this.__htProps=new q;for(var p=l.props.split(","),o=0,j=p.length;o<j;o++){var m=p[o];if(m.length>0){m=m.replace(/(^\s*)|(\s*$)/g,"");if(m.length===0)throw new Error("\u5c5e\u6027\u540d\u4e0d\u80fd\u4e3a\u7a7a!");this.__htProps.put(m,null);p[o]=m}}l=l.list;o=0;for(j=
l.length;o<j;o++)this.__array.push(this._arrToObj(l[o],p))},clear:function(){this.__htProps.clear();onyx.util.ArrayUtil.clear(this.__array)},first:function(){return this.__array[0]},last:function(){var l=this.__array;return l[l.length-1]},array:function(){return this.__array},get:function(l,p,o){var j=this.__htProps;if(j.contains(l)){var m=j.get(l);if(typeof m==="undefined"){m=new q;arr=this.__array;j.set(l,m);j=0;for(var k=arr.length;j<k;j++){var g=arr[j],c=g[l];if(typeof c!=="undefined"){var b=
m.get(c);typeof b==="undefined"?m.put(c,[g]):b.push(g)}}}return typeof o==="number"?m.get(p):m.get(p)[o]}else return null},each:function(l){for(var p=this.__array,o=0,j=p.length;o<j;o++)if(l(p[o],o)===false)break},_arrToObj:function(l,p){for(var o=p.length,j=Math.min(o,l.length),m={},k=0;k<j;k++)m[p[k]]=l[k];if(k<o)for(j=o;k<j;k++)m[p[k]]=null;return m}})})();
(function(){__package("onyx").__class("Timer").__methods(function(){function q(p){(function(){p.__timeOutId=setTimeout(function(){if(p.__func()===false){p.enabled(false);return false}var o=p.__timeOutId;o&&clearTimeout(o);if(p.enabled())p.__timeOutId=setTimeout(arguments.callee,p.__delay)},p.__delay)})()}function l(p){(p=p.__timeOutId)&&clearTimeout(p)}return{__init:function(p){this.__delay=p.delay||150;this.__func=p.func;p=p.enabled;this.enabled(typeof p==="boolean"?p:true)},delay:function(p){if(typeof p===
"number"){this.__delay=p;return this}else return this.__delay},func:function(p){if(typeof p==="function"){this.__func=p;return this}else return this.__func},enabled:function(p){if(typeof p==="boolean"){if(this.__enabled!==p)(this.__enabled=p)?q(this):l(this);return this}else return this.__enabled},destroy:function(){this.enabled(false);l(this);delete this.__delay;delete this.__func;delete this.__enabled;delete this.__timeOutId}}}())})();
(function(){__package("onyx").__class("Browser").__static(function(){var q,l;(function(){var p=navigator.userAgent.toLowerCase(),o;(o=p.match(/msie ([\d.]+)/))?(l=o[1]):(o=p.match(/(msie\s|trident.*rv:)([\d.]+)/))?(l=o[1]):(o=p.match(/firefox\/([\d.]+)/))?(l=o[1]):(o=p.match(/chrome\/([\d.]+)/))?(l=o[1]):(o=p.match(/opera.([\d.]+)/))?(l=o[1]):(o=p.match(/version\/([\d.]+).*safari/))&&(l=o[1]);p=o[0];o=["msie","trident","firefox","chrome","safari","opera"];for(var j=0,m=o.length,k;j<m;j++){k=o[j];
if(p.indexOf(k)!==-1){q=k;break}}})();return{isIE:function(){return q==="msie"||q==="trident"},isFireFox:function(){return q==="firefox"},isOpera:function(){return q==="opera"},isChrome:function(){return q==="chrome"},isSafari:function(){return q==="safari"},isIE6:function(){var p=this.isIE(),o=this.version();return p&&o==="6.0"},isIE7:function(){var p=this.isIE(),o=this.version();return p&&o==="7.0"},isIE_6_7:function(){var p=this.isIE(),o=this.version();return p&&(o==="6.0"||o==="7.0")},isIE8:function(){var p=
this.isIE(),o=this.version();return p&&o==="8.0"},version:function(){return l}}}())})();
(function(){__package("onyx").__class("Dom").__static(function(){var q=document,l,p;return{doc:function(){return q},head:function(){l||(l=q.getElementsByTagName("head").item(0));return l},body:function(){p||(p=q.getElementsByTagName("body").item(0));return p},scrollLeft:function(){return Math.max(q.documentElement.scrollLeft,this.body().scrollLeft)},scrollTop:function(){return Math.max(q.documentElement.scrollTop,this.body().scrollTop)}}}())})();
(function(){__package("onyx").__class("Cookie").__static(function(){function q(l){return typeof l!=="string"||l==null||l.length==0}return{__init:function(){},set:function(l,p,o){q(l)&&onyx.error("cookie name\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a");var j=onyx.Dom.doc();l=l+"="+p;if(typeof o==="object"){p=o.expires;var m=o.path;o=o.domain;if(typeof p==="number"){var k=new Date;k.setTime(k.getTime()+p);l=l+";expires="+k.toGMTString()}if(typeof m==="string")l=l+";path="+m;if(typeof o==="string")l=l+";domain="+
o}j.cookie=l},get:function(l){q(l)&&onyx.error("cookie name\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a");var p=onyx.Dom.doc().cookie,o=l+"=";l=p.indexOf(o);if(l<0)return null;l+=o.length;o=p.indexOf(";",l);o=o>0?o:p.length;return p=p.substring(l,o)},remove:function(l,p){q(l)&&onyx.error("cookie name\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a");var o=onyx.Dom.doc(),j=new Date;j.setTime(j.getTime()-1E4);l=l+"=;expires="+j.toGMTString();if(typeof p==="object"){if(typeof path==="string")l=l+";path="+path;if(typeof domain===
"string")l=l+";domain="+domain}o.cookie=l}}}())})();
(function(){__package("onyx").__class("Window").__static(function(){var q=onyx.Dom.doc().defaultView||window,l=function(){function p(g){var c={};if(g!=null&&g.length>0){g=g.split("&");for(var b=0,f=g.length,d,h;b<f;b++){d=g[b];h=d.indexOf("=");if(h>0)c[d.substring(0,h)]=decodeURIComponent(d.substring(h+1))}}return c}var o=null,j=null,m=null,k=null;return{get:function(){return q.location.href},queryStr:function(){if(o==null){var g=this.get(),c=g.indexOf("?");if(c>0){c+=1;e=g.indexOf("#");o=e>0?g.substring(c,
e):g.substring(c)}else o=""}return o},poundStr:function(){if(j==null){var g=this.get(),c=g.indexOf("#");j=c>0?g.substring(c+1):""}return j},queryParams:function(){m||(m=p(this.queryStr()));return m},poundParams:function(){k||(k=p(this.poundStr()));return k},host:function(g){var c="null";g=this.get();g=g.match(/.*\:\/\/([^\/|:]*).*/);if(typeof g!="undefined"&&g!=null)c=g[1];return c}}}();return{get:function(){return q},url:function(p){if(typeof p==="string")q.location.href=p;else return l},reload:function(){q.location.reload()},
addFavorite:function(p,o){if(q.external){q.external.addFavorite(p,o);return true}else if(q.sidebar){q.sidebar.addPanel(o,p);return true}return false}}}())})();
(function(){__package("onyx.util").__class("TypeUtil").__static({isUndef:function(q){return typeof q==="undefined"},isObj:function(q){return q!==null&&typeof q==="object"},isFunc:function(q){return typeof q==="function"},isNum:function(q){return typeof q==="number"&&!isNaN(q)},isStr:function(q){return typeof q==="string"},isBool:function(q){return typeof q==="boolean"},isUndefOrNull:function(q){return typeof q==="undefined"||q===null},isArray:function(q){return Object.prototype.toString.call(q)===
"[object Array]"},isElem:function(q){return q&&q.nodeName&&(q.nodeType===1||q.nodeType===9)},getObj:function(q,l){return typeof q==="object"?q:l},getFunc:function(q,l){return typeof q==="function"?q:l},getNum:function(q,l){return typeof q==="number"?q:l},getStr:function(q,l){return typeof q==="string"?q:l},getBool:function(q,l){return typeof q==="boolean"?q:l}})})();
(function(){var q=onyx.util.TypeUtil;__package("onyx.util").__class("ObjUtil").__static({merge:function(l,p){if(q.isUndef(l))l={};for(var o in p)q.isUndef(p[o])||(l[o]=p[o]);return l},checkSet:function(l,p){if(!q.isObj(l))throw new Error("\u53c2\u6570o\u9519\u8bef");for(var o in p){var j=p[o];if(!q.isUndef(j)){if(q.isUndef(l[o]))throw new Error(o+"\u4e0d\u5b58\u5728");l[o](j)}}},toStr:function(l,p,o,j){var m=[];p=p||"&";o=o||"=";if(q.isObj(l))for(var k in l){var g=l[k];if(q.isStr(g)||q.isNum(g)){if(j===
true)g=encodeURIComponent(g+"");m.push(k+o+g)}}return m.join(p)},copy:function(l){var p={};for(var o in l)p[o]=l[o];return p},clear:function(l){for(var p in l)delete l[p]}})})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil;__package("onyx.util").__class("StrUtil").__static(function(){var p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");return{rand:function(o){for(var j=p.length-1,m="",k=0;k<o;k++)m+=p[Math.round(Math.random()*j)];return m},regExpEscape:function(){},trim:function(o){o=o.replace(/^\s+/,"");for(var j=o.length-1,m=/\s/;m.test(o.charAt(j));)j--;return o.slice(0,j+1)},indexOf:function(o,j,m){if(m===true){o=(new RegExp(j,
"gi")).exec(o);return o==null?-1:o.index}else return o.indexOf(j)},lastIndexOf:function(o,j,m){if(m===true){m=new RegExp(j,"gi");for(var k=-1;m.exec(o)!=null;)k=m.lastIndex;if(k>0)k-=j.length;return k}else return o.lastIndexOf(j)},replaceAll:function(o,j,m,k){if(arguments.length==2){o=arguments[0];var g=arguments[1];for(var c in g)o=this.replaceAll(o,c,g[c],k);return o}else{if(typeof k!=="boolean")k=false;return o.replace(new RegExp(j,k?"gi":"g"),m)}},upperFirst:function(o){return o.substring(0,1).toUpperCase()+
o.substring(1)},format:function(){var o=arguments.length,j;if(o<2||typeof arguments[0]!=="string")throw new Error("\u5fc5\u987b\u8f93\u51652\u4e2a\u4ee5\u4e0a\u53c2\u6570\uff0c\u5e76\u4e14\u7b2c\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b");else{j=arguments[0];for(var m=1,k;m<o;m++){k=new RegExp("\\{"+(m-1)+"\\}","gm");j=j.replace(k,arguments[m])}}return j},toHtml:function(o){o=this.replaceAll(o,"<","&lt;");o=this.replaceAll(o,">","&gt;");o=this.replaceAll(o,"\t","    ");
o=this.replaceAll(o,"\n","<br/>");return o=this.replaceAll(o," ","&nbsp;")},repeat:function(o,j){for(var m="",k=0;k<j;k++)m+=o;return m},isEmpty:function(o){return!q.isStr(o)||o==null||o.length==0},onlyNumber:function(o){return o.replace(/[^d]/g,"")},isInt:function(o){return/^-?\d+$/.test(o)},isFloat:function(o){return/^(-?\d+)(\.\d+)?$/.test(o)},isDate:function(o){return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))$/.test(o)},
isDateTime:function(){return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-)) (20|21|22|23|[0-1]?\d):[0-5]?\d:[0-5]?\d$/.test(str)},isChinese:function(o){return/[u4e00-u9fa5]/.test(o)},isEmail:function(o){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(o)},
isZipcode:function(o){return/[1-9]d{5}(?!d)/.test(o)},isTelNo:function(o){return/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(o)},isMobileNo:function(o){return/^(?:13\d|15[89])-?\d{5}(\d{3}|\*{3})$/.test(o)},isIdCardNo:function(o){return/d{15}|d{18}/.test(o)},isDecimal:function(o){return/^-?[1-9]*(\.\d*)?$|^-?d^(\.\d*)?$/.test(o)},isMoney:function(o){return/[1-9][0-9]*(\.[0-9]{1,2})?/.test(o)},url:function(o,j){var m="";if(!this.isEmpty(o)){m=this.trim(o);if(m!="")m+=m.indexOf("?")>
0?"&":"?"}m+=l.toStr(j,"&","=",true);return m},trimJoin:function(o,j){for(var m=[],k=0,g=o.length,c;k<g;k++){c=o[k];q.isUndefOrNull(c)||m.push(this.trim(c))}return m.join(j)},startWith:function(o,j){if(j==null||j==""||o.length==0||j.length>o.length)return false;return o.substr(0,j.length)==j?true:false},endWidth:function(o,j){if(j==null||j==""||o.length==0||j.length>o.length)return false;return o.substring(o.length-j.length)==s?true:false}}}())})();
(function(){__package("onyx.util").__class("ArrayUtil").__static(function(){return{indexOf:function(q,l){if(!q||!l)return-1;for(var p=0,o=q.length;p<o;p++)if(q[p]===l)return p;return-1},last:function(q){if(q.length>0)return q[q.length-1]},remove:function(q,l){var p=q.length;if(isNaN(l)||l>p)return false;for(l=l;l<p;l++)q[l]=q[l+1];q.length-=1},insert:function(q,l,p){var o=q.length;if(l<o)for(i=o;i>l;i--)q[i]=q[i-1];q[l]=p},clear:function(q){for(i=q.length;i>0;i--)q[i]=null;q.length=0},isIn:function(q,
l){i=0;for(len=l.length;i<len;i++)if(q===l[i])return true;return false},unique:function(q){for(var l=[],p={},o=0,j;(j=q[o])!=null;o++)if(!p[j]){l.push(j);p[j]=true}return l},strToIntArray:function(q,l){q=q.split(l);l=0;for(var p=q.length;l<p;l++)q[l]=parseInt(q[l]);return q},each:function(q,l,p){var o=q.length;if(p==="desc")for(p=o-1;p>=0;p--){if(l(q[p],p)===false)break}else for(p=0;p<o;p++)if(l(q[p],p)===false)break},timedEach:function(q,l,p){var o=q.length-1;setTimeout(function(){for(var j=+new Date;o>
0&&+new Date-j<50;){l(q[o],o)===false&&p(false);o--}o>0?setTimeout(arguments.callee,25):p(true)},25)},swap:function(q,l,p){var o=q[l];q[l]=q[p];q[p]=o},sort:function(q,l){var p,o,j=q.length;if(!l||l==="asc")for(l=0;l<j;l+=1){p=0;for(o=j-l;p<o;p+=1){var m=p+1,k=q[p],g=q[m];if(k>g){q[p]=g;q[m]=k}}}else if(l==="desc")for(l=0;l<j;l+=1){p=0;for(o=j-l;p<o;p+=1){m=p+1;k=q[p];g=q[m];if(k<g){q[p]=g;q[m]=k}}}}}}())})();
(function(){__package("onyx.util").__class("DateUtil").__static(function(){var q="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("");return{parse:function(l){var p=Date.parse(l);p=new Date(p);if(isNaN(p)){var o=l.split(" ");l=o[0].split("-");if(o.length==1)p=new Date(l[0],--l[1],l[2]);else if(o.length==2){p=o[1].split(":");p=new Date(l[0],--l[1],l[2],p[0],p[1],p[2])}}return p},format:function(l,p){var o=l.getFullYear(),j=j%100,m=l.getMonth()+1,k=l.getDay(),g=l.getDate(),c=l.getHours(),b=l.getMinutes();
l=l.getSeconds();p=p.replace(/yyyy|YYYY/,o);p=p.replace(/yy|YY/,j>9?j+"":"0"+j);p=p.replace(/MM/,m>9?m+"":"0"+m);p=p.replace(/M/g,m);p=p.replace(/w|W/g,q[k]);p=p.replace(/dd|DD/,g>9?g+"":"0"+g);p=p.replace(/d|D/g,g);p=p.replace(/hh|HH/,c>9?c+"":"0"+c);p=p.replace(/h|H/g,c);p=p.replace(/mm/,b>9?b+"":"0"+b);p=p.replace(/m/g,b);p=p.replace(/ss|SS/,l>9?l+"":"0"+l);return p=p.replace(/s|S/g,l)},now:function(){return new Date},add:function(l,p,o){switch(p){case "s":return new Date(Date.parse(l)+1E3*o);
case "n":return new Date(Date.parse(l)+6E4*o);case "h":return new Date(Date.parse(l)+36E5*o);case "d":return new Date(Date.parse(l)+864E5*o);case "w":return new Date(Date.parse(l)+6048E5*o);case "q":return new Date(l.getFullYear(),l.getMonth()+o*3,l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds());case "m":return new Date(l.getFullYear(),l.getMonth()+o,l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds());case "y":return new Date(l.getFullYear()+o,l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),
l.getSeconds())}return l},diff:function(l,p,o){if(typeof p=="string")p=this.parse(p);if(typeof o=="string")o=this.parse(o);switch(l){case "s":return parseInt((o-p)/1E3);case "n":return parseInt((o-p)/6E4);case "h":return parseInt((o-p)/36E5);case "d":return parseInt((o-p)/864E5);case "w":return parseInt((o-p)/6048E5);case "m":return o.getMonth()+1+(o.getFullYear()-p.getFullYear())*12-(p.getMonth()+1);case "y":return o.getFullYear()-p.getFullYear()}},firstDateOfWeek:function(l){return this.add(l,"d",
0-l.getDay())},lastDateOfWeek:function(l){return this.add(l,"d",0-l.getDay()+6)},maxDayOfMonth:function(l){l=this.parse(this.format(l,"yyyy-MM")+"-01");var p=this.add(l,"m",1);return this.diff("d",this.format(l,"yyyy-MM-dd"),this.format(p,"yyyy-MM-dd"))}}}())})();
(function(){var q=onyx.Browser,l=onyx.Timer;__package("onyx.util").__class("EventUtil").__static(function(){var p=onyx.Dom.doc(),o=onyx.Window.get(),j=[];new l({delay:5,enabled:false});var m=function(c){if(c.addEventListener)return function(b,f,d){b.addEventListener(f,d,false)};else if(c.attachEvent)return function(b,f,d){b.attachEvent("on"+f,d)}}(p),k=function(c){if(c.removeEventListener)return function(b,f,d){b.removeEventListener(f,d,false)};else if(c.detachEvent)return function(b,f,d){b.detachEvent("on"+
f,d)}}(p),g={__init:function(){},bind:function(){var c=arguments.length;if(c<2)return this;var b=arguments[0];if(c===2){c=arguments[1];for(var f in c)m(b,f,c[f]);return this}if(c===3){m(b,arguments[1],arguments[2]);return this}},domReady:function(c){j.push(function(){return c.call(p)})},remove:function(){var c=arguments.length;if(c<2)return this;var b=arguments[0];if(c===2){c=arguments[1];for(var f in c)k(b,f,c[f]);return this}if(c>2){for(f=2;f<c;f++)k(b,arguments[1],arguments[f]);return this}},keyCode:function(c){return c.keyCode||
c.which||c.charCode},keyName:function(c){c=this.keyCode(c);return String.fromCharCode(c)},mouseCoord:function(c){c=c||o.event;return{x:c.clientX,y:c.clientY}},isMouseRight:function(c){c=c||o.event;if(c.button==2)return true;return false},preventContextMenu:function(c){var b=this;this.bind(c,"contextmenu",function(f){b.preventDefault(f)})},isPressShift:function(c){return c.shiftKey||this.keyCode(c)==16},isPressCtrl:function(c){return c.ctrlKey},isEnter:function(c){return this.keyCode(c)==13},preventDefault:function(c){if(c&&
c.preventDefault)c.preventDefault();else o.event.returnValue=false},target:function(c){return c.target||c.srcElement},imageLoad:function(c,b){c.complete?b.call(c):this.bind(c,"load",b)},scriptLoad:function(c,b){if(q.isIE_6_7()||q.isIE8())c.onreadystatechange=function(){var f=this.readyState;if(f=="loaded"||f=="complete"){this.onreadystatechange=null;b();b=null}};else c.onload=function(){this.onload=null;b();b=null}}};(function(c){for(var b="load,click,mouseover,mouseout,mouseenter,mousedown,mouseup,mousemove,mousepress,selectstart,focus,blur,resize,keyup,keydown,scroll".split(","),
f=function(n){return function(r,t){m(r,n,t)}},d=0,h=b.length,a;d<h;d++){a=b[d];c[a]=f(a)}})(g);return g}())})();
(function(){var q=onyx.util.StrUtil;__package("onyx.util").__class("ClassUtil").__static(function(){return{has:function(l,p){l||onyx.error("\u53c2\u6570elem\u9519\u8bef");return(" "+l.className+" ").indexOf(" "+p+" ")>=0},add:function(){var l=arguments[0],p=arguments.length;if(p==2){p=arguments[1].split(" ");for(var o=0,j=p.length,m;o<j;o++){m=q.trim(p[o]);if(!this.has(l,m))l.className=q.trim(l.className+" "+m)}}else{j=" "+l.className+" ";for(o=1;o<p;o++){m=arguments[o];if(j.indexOf(" "+m+" ")<0)j=
j+m+" "}l.className=q.trim(j)}return this},remove:function(){for(var l=arguments[0],p=" "+l.className+" ",o=1,j=arguments.length;o<j;o++)p=p.replace(arguments[o]+" ","");l.className=q.trim(p);return this},set:function(l,p){l.className=p;return this},replace:function(l,p,o){l.className=q.replaceAll(l.className,p,o);return this},swap:function(l,p,o){l=[l];p=p.split(" ");o=o.split(" ");this.remove.call(this,l.concat(p));this.add.call(this,l.concat(o))}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.Browser,p=onyx.util.TypeUtil,o=onyx.util.StrUtil;__package("onyx.util").__class("CssUtil").__static(function(){function j(d){var h=c.get(d);if(p.isUndefOrNull(h)){h=d.split("-");for(var a=1,n=h.length;a<n;a++)h[a]=o.upperFirst(h[a]);h=h.join("");c.put(d,h)}return h}function m(d){d=d.style;if(p.isUndef(d.opacity))if(p.isUndef(d.mozOpacity))if(p.isUndef(d.KhtmlOpacity)){if(!p.isUndef(d.filter))return function(h,a){h=h.style;if(p.isNum(a))h.filter="alpha(opacity="+
a*100+")";else{h=h.filter.toLowerCase();var n=h.indexOf("opacity="),r=0;a=1;if(n>0){n+=8;r=h.indexOf(")",n)}if(n>0&&r>0&&r>n){strOpacity=h.substring(n,r);h=parseInt(strOpacity);isNaN(h)||(a=h/100)}return a}}}else return function(h,a){h=h.style;if(p.isNum(a))h.KhtmlOpacity=a;else return h.KhtmlOpacity};else return function(h,a){h=h.style;if(p.isNum(a))h.mozOpacity=a;else return h.mozOpacity};else return function(h,a){h=h.style;if(p.isNum(a))h.opacity=a;else return h.opacity}}function k(){return g.getComputedStyle?
function(d,h){d=g.getComputedStyle(d,"");if(d==null)return"";return d.getPropertyValue(h)}:function(d,h){try{return d.currentStyle[j(h)]||""}catch(a){return""}}}var g=onyx.Window.get(),c=new q,b=null,f=null;return{set:function(d,h,a){d=d.style;if(p.isStr(h))if(p.isStr(a)){try{d[j(h)]=a}catch(n){}return this}else try{return d[j(h)]}catch(r){return""}else if(p.isObj(h)){for(var t in h)try{d[j(t)]=h[t]}catch(u){}return this}},get:function(d,h){if(f==null)f=k(d);return f(d,h)},is:function(d,h,a){return this.getStyle(d,
h)==a},remove:function(d,h){p.isStr(h)&&d.style.removeAttribute&&d.style.removeAttribute(j(h));return this},width:function(d,h){d=d.style;if(p.isNum(h)){if(h<0||isNaN(h))h=0;d.width=h+"px";return this}else return d.width},height:function(d,h){d=d.style;if(p.isNum(h)){if(h<0||isNaN(h))h=0;d.height=h+"px";return this}else return d.height},size:function(d,h,a){d=d.style;d.width=h+"px";d.height=a+"px"},left:function(d,h){d=d.style;if(p.isUndef(h)){if((h=d.left)&&l.isIE())h=h.toLowerCase().replace("px",
"");return h}else{d.left=h+"px";return this}},top:function(d,h){d=d.style;if(p.isUndef(h)){if((h=d.top)&&l.isIE())h=h.toLowerCase().replace("px","");return h}else{d.top=h+"px";return this}},position:function(d,h,a){d=d.style;d.left=h+"px";d.top=a+"px"},display:function(d,h){d=d.style;if(p.isUndef(h))return d.display;else d.display=h},opacity:function(d,h){if(b==null)b=m(d);return b(d,h)},padding:function(d,h){d=(d=this.get(d,"padding-"+h))?parseInt(d.replace("px","")):0;return isNaN(d)?0:d},margin:function(d,
h){d=(d=this.get(d,"margin-"+h))?parseInt(d.replace("px","")):0;return isNaN(d)?0:d},borderWidth:function(d,h){d=(d=this.get(d,"border-"+h+"-width"))?parseInt(d.replace("px","")):0;return isNaN(d)?0:d}}}())})();
(function(){var q=onyx.Browser,l=onyx.Hashtable,p=onyx.util.TypeUtil,o=onyx.util.ObjUtil,j=onyx.util.StrUtil,m=onyx.util.CssUtil,k=onyx.util.EventUtil,g=onyx.util.ClassUtil;__package("onyx.util").__class("DomUtil").__static(function(){var c=new l,b=onyx.Dom,f=b.doc(),d={style:onyx.util.CssUtil.set,events:onyx.util.EventUtil.bind,cssClass:onyx.util.ClassUtil.set,children:function(a,n){var r=onyx.util.DomUtil,t=n.length;if(t===1){var u=n[0];u=p.isStr(u.tag)?r.create(u.tag,u):u;r.append(a,u)}else{for(var v=
f.createDocumentFragment(),x=0;x<t;x++){u=n[x];u=p.isStr(u.tag)?r.create(u.tag,u):u;r.append(v,u)}r.append(a,v)}}},h={get:function(a){if(p.isStr(a))a=this.byId(a);return a},byId:function(a){var n=c.get(a);if(!n){n=f.getElementById(a);if(!n)return null;c.put(a,n)}return n},byName:function(a){return f.getElementsByName(a)},byClass:function(){var a,n;if(arguments.length==1){a=f;n=arguments[0]}else if(arguments.length>1){a=arguments[0];n=arguments[1]}var r=[];if(a.getElementsByClassName){a=a.getElementsByClassName(n);
for(var t=0,u=a.length,v;t<u;t++)r.push(a.item(t))}else{a=a.getElementsByTagName("*");t=0;for(u=a.length;t<u;t++){v=a[t];g.has(v,n)&&r.push(v)}}return r},firstByClass:function(){var a=arguments.length,n;if(a==1)n=this.byClass(arguments[0]);else if(a==2)n=this.byClass(arguments[0],arguments[1]);if(!n||n.length==0)return null;return n[0]},byTag:function(a){return f.getElementsByTagName(a)},randId:function(){for(var a=j.rand(6);this.byId(a);)a=j.rand(6);return a},create:function(a,n){var r;if(p.isObj(n)){var t=
n.attrs;if(t)if(a==="input"&&q.isIE_6_7()&&t.type==="radio"){r=f.createElement("div");r.innerHTML="<input type='radio'/>";r=this.firstChild(r);delete t.type}else if(a==="iframe"&&(q.isIE_6_7()||q.isIE8())&&t.name){r=f.createElement("<iframe name='"+t.name+"'/>");delete t.name}}r||(r=f.createElement(a));p.isObj(n)&&this.set(r,n);return r},createTable:function(a){var n=onyx.util.DomUtil;a=a?a.cssClass||"":"";return q.isIE_6_7()?n.firstChild(n.create("div",{html:'<table class="'+a+'" cellpadding="0" cellspacing="0" border="0"></table>'})):
this.create("table",{cssClass:a,attrs:{cellpadding:0,cellspacing:0,border:0}})},createStyle:function(a){var n=f.create("style",{type:"text/css"});if(n.styleSheet)n.styleSheet.cssText=a;else{a=f.createTextNode(a);n.appendChild(a)}return n},set:function(a,n){var r;for(var t in n){var u=n[t];if(t==="html")this.html(a,u);else if(t==="text")this.text(a,u);else(r=d[t])&&r(a,u)}},parent:function(a){return a.parentNode},next:function(a){return a.nextElementSibling||a.nextSibling},prev:function(a){return a.previousElementSibling||
a.previousSibling},firstChild:function(a){return a.firstElementChild||a.firstChild},lastChild:function(a){return a.lastElementChild||a.lastChild},children:function(){var a=arguments.length,n=arguments[0];if(a==1){var r=[];for(n=n.firstChild;n;){n.nodeType==1&&r.push(n);n=this.next(n)}return r}if(a>=2){r=arguments[1];for(var t=[],u=2;u<a;u++)t[u-1]=arguments[u];for(n=n.firstChild;n;){if(n.nodeType==1){t[0]=n;if(r.apply(this,t)===false)break}n=this.next(n)}}},append:function(a,n){try{a.appendChild(n)}catch(r){alert("msg:"+
r)}return this},clearChildren:function(a){a=this.children(a);for(var n=a.length-1;n>=0;n--)this.remove(a[n])},insertBefore:function(a,n){n.parentNode.insertBefore(a,n);return this},insertAfter:function(a,n){var r=n.parentNode;r.lastChild==n?r.appendChild(a):r.insertBefore(a,n.nextSibling)},remove:function(a){var n=this.attr(a,"id");n&&c.remove(n);a.parentNode.removeChild(a)},attrs:function(a,n){for(var r in n)a.setAttribute(r,n[r])},attr:function(a,n,r){if(p.isUndef(r))return a.getAttribute(n);else a.setAttribute(n,
r)},html:function(a,n){if(p.isUndef(n))return a.innerHTML;else a.innerHTML=n},text:function(a,n){a=this.get(a);if(p.isUndef(n)){n="";a=a.childNodes;for(var r=0,t=a.length,u;r<t;r++){u=a[r];n+=u.nodeType!=1?u.nodeValue:this.text(u)}return n}else{a.innerHTML="";a.appendChild(f.createTextNode(n))}},valuesByName:function(a,n){a=this.byName(a);var r=a.length;if(p.isBool(n)){for(var t=[],u=0,v;u<r;u++){v=a[u];v.checked===n&&t.push(v.value)}return t}else if(r==1)return v.value;else{t=[];for(u=0;u<r;u++){v=
a[u];t.push(v.value)}return t}},checked:function(a,n,r){if(!p.isBool(r))return null;var t=new l;a=this.byName(a);var u=a.length,v=0;for(u=n.length;v<u;v++)t.set(n[v],1);for(v=0;v<u;v++){n=a[v];if(t.contains(n.value))n.checked=r}},clientWidth:function(a,n){if(p.isNum(n)){var r=m.padding(a,"left"),t=m.padding(a,"right"),u=m.borderWidth(a,"left"),v=m.borderWidth(a,"right");this.width(a,n+r+t+u+v)}else return a.clientWidth},clientHeight:function(a,n){if(p.isNum(n)){var r=m.padding(a,"top"),t=m.padding(a,
"bottom"),u=m.borderWidth(a,"top"),v=m.borderWidth(a,"bottom");this.height(a,n+r+t+u+v)}else return a.clientHeight},width:function(a,n){var r=n;if(p.isNum(r)){var t=q.isIE6(),u=t?0:a.offsetWidth-a.clientWidth,v=m.padding(a,"left"),x=m.padding(a,"right");r=r-u-v-x;if(t){t=m.borderWidth(a,"left");u=m.borderWidth(a,"right");r=r-t-u}m.width(a,r);t=a.offsetWidth;n>0&&t>0&&t<n&&m.width(a,r+(n-t))}else{if(a===f)a=f.documentElement;return a.offsetWidth}},outerWidth:function(a,n){var r=m.margin(a,"left"),
t=m.margin(a,"right");if(p.isNum(n)){n=n-r-t;if(n<0)n=0;this.width(a,n)}else return this.width(a)+r+t},height:function(a,n){var r=n;if(p.isNum(r)){var t=q.isIE6(),u=t?0:a.offsetHeight-a.clientHeight,v=m.padding(a,"top"),x=m.padding(a,"bottom");r=r-u-v-x;if(t){t=m.borderWidth(a,"top");u=m.borderWidth(a,"bottom");r=r-t-u}m.height(a,r);t=a.offsetHeight;n>0&&t>0&&t<n&&m.height(a,r+(n-t))}else{if(a===f)a=f.documentElement;return a.offsetHeight}},outerHeight:function(a,n){var r=m.margin(a,"top"),t=m.margin(a,
"bottom");if(p.isNum(n)){n=n-r-t;if(n<0)n=0;this.height(a,n)}else return this.height(a)+r+t},workArea:function(){var a=onyx.Dom.body(),n=onyx.Window.get(),r,t,u;if(n.innerHeight&&n.scrollMaxY){t=n.innerWidth+n.scrollMaxX;r=n.innerHeight+n.scrollMaxY}else if(a.scrollHeight>a.offsetHeight){t=a.scrollWidth;r=a.scrollHeight}else{t=a.offsetWidth;r=a.offsetHeight}var v=f.documentElement;if(n.innerHeight){u=n.innerWidth;a=n.innerHeight}else if(v&&v.clientHeight){u=v.clientWidth;a=v.clientHeight}else{u=a.clientWidth;
a=a.clientHeight}return{width:Math.max(t,u),height:Math.max(r,a)}},position:function(a){var n,r;if(f.documentElement.getBoundingClientRect){r=a.getBoundingClientRect();a=a.ownerDocument;n=r.left+b.scrollLeft(a);r=r.top+b.scrollTop(a)}else{n=a.offsetLeft;r=a.offsetTop;var t=a.offsetParent,u=a.ownerDocument.body,v=q.isSafari()&&m.is(a,"position","absolute")&&a.offsetParent==u;if(t!=a)for(;t;){n+=t.offsetLeft;r+=t.offsetTop;if(!v&&q.isSafari()&&m.is(t,"position","absolute"))v=true;t=t.offsetParent}if(v){n-=
u.offsetLeft;r-=u.offsetTop}for(t=a.parentNode;t.tagName&&!/^body|html$/i.test(t.tagName);){a=m.get(t,"display");if(a.search(/^inline|table-row.*$/i)){n-=t.scrollLeft;r-=t.scrollTop}t=t.parentNode}}return{left:n,top:r}},fill:function(a,n){var r=this.clientWidth(n);n=this.clientHeight(n);this.outerWidth(a,r);this.outerHeight(a,n)},fragment:function(){return f.createDocumentFragment()},createIframe:function(a){a=a||{};var n=a.style||{};a.attrs=o.merge(a.attrs||{},{frameborder:"0",border:"0"});a.style=
o.merge(n,{border:"none"});a=this.create("iframe",a);a.frameBorder=0;return a},iframeAutoSize:function(a,n){k.load(a,function(){var r,t,u=false;try{if(a.contentDocument&&a.contentDocument.body.offsetHeight){r=a.contentDocument.body.offsetHeight;t=a.contentDocument.body.offsetWidth}else if(a.Document&&a.Document.body.scrollHeight){r=a.Document.body.scrollHeight;t=a.Document.body.scrollWidth}}catch(v){}if(r&&t){m.height(a,r);m.width(a,t);u=true}p.isFunc(n)&&n(u)})},loadJs:function(a){var n=onyx.Dom.head(),
r=this.create("script",{attrs:{type:"text/javascript",src:a.src}});k.scriptLoad(r,function(){var t=a.callback;t&&t()});this.append(n,r)},jsonp:function(a){a=a||{};var n=p.getStr(a.url,null),r=p.getFunc(a.callback,null);n||onyx.error("\u53c2\u6570url\u9519\u8bef");var t=this.randId();a={r:Math.random()};if(r)a.callback='onyx.callback["'+t+'"]';n=j.url(n,a);a=onyx.Dom.head();n=this.create("script",{attrs:{id:t,type:"text/javascript",src:n}});var u=function(v){var x=onyx.util.DomUtil,z=x.get(t);z&&x.remove(z);
delete onyx.callback[t];r&&r(v);r=null};if(r)onyx.callback[t]=u;else k.scriptLoad(n,function(){u(null);u=null});this.append(a,n)},iframeHtml:function(a){return(a.contentDocument||a.Document).documentElement.outerHTML},submitForm:function(a){a=a||{};var n=p.getObj(a.form,null),r=p.getStr(a.action,null),t=p.getFunc(a.callback,null),u=p.getStr(a.domain,null),v=p.getBool(a.parseJson,true);n||onyx.error("\u53c2\u6570form\u9519\u8bef");a=n.nodeName;if(!a||a.toLowerCase()!=="form"||!n.submit)onyx.error("\u53c2\u6570form\u9519\u8bef");
this.attr(n,"method","post");r&&this.attr(n,"action",r);var x=n.__submitIframe;if(!x){r=this.randId();x=this.createIframe({attrs:{name:r,src:"about:blank"},style:{display:"none",width:"0",height:"0"}});this.attr(n,"target",r);n.__submitIframe=x}var z=this;this.append(onyx.Dom.body(),x);r=this.attr(x,"name");x.contentWindow.name=r;k.load(x,function(){k.remove(x,"load",arguments.callee);var C=z.iframeHtml(x);z.attr(x,"src","about:blank");z.remove(x);if(t)if(v){var F=null;try{var E=j.indexOf(C,"<body>",
true),I=j.lastIndexOf(C,"</body>",true);if(E>=0&&I>=0&&I>E)C=C.substring(E+6,I);F=JSON.parse(C)}catch(P){F=null}t(F,C)}else t(C)});if(q.isIE_6_7()&&u){r=onyx.Dom.doc();a=r.domain;r.domain=u;n.submit();r.domain=a}else n.submit()},isMouseOn:function(a,n){var r=k.mouseCoord(n);n=this.position(a);var t=this.width(a);a=this.height(a);var u=r.x;r=r.y;return u>n.left&&u<n.left+t&&r<n.top+a&&r>n.top?true:false}};d.attrs=h.attrs;return h}())})();
(function(){var q=null,l=null,p=onyx.Browser,o=onyx.util.TypeUtil,j=onyx.util.ObjUtil,m=onyx.util.StrUtil,k=onyx.util.DomUtil;__package("onyx.data").__class("Ajax").__static(function(){function g(h){if(onyx.crypto){h&&h();return false}for(var a=k.byTag("script"),n=null,r=0,t=a.length;r<t;r++){var u=k.attr(a[r],"src");if(u.indexOf("onyx")>0){var v=m.lastIndexOf(u,"/");if(v>0){n=u.substring(0,v+1)+"onyx.crypto.js";break}}}n||onxy.error("\u83b7\u53d6onyx.crypto\u5305\u8def\u5f84\u5931\u8d25");k.loadJs({src:n,
callback:function(){q=CryptoJS.AES;l=CryptoJS.enc.Utf8;h();h=null}})}function c(h){for(var a=0;a==0;)a=Math.round(Math.random()*10);a=a+"";if(h==1)return a;for(var n=1;n<h;n++)a+=Math.round(Math.random()*10);return a}function b(h,a){var n=c(2),r=c(99),t=c(16),u=randBigInt(100),v=str2bigInt(r,10,0),x=str2bigInt(n,10,0),z=powMod(x,u,v),C=[];x=m.rand(32);C.push("g="+n);C.push("p="+r);C.push("v="+t);C.push("a="+bigInt2str(z,10));n=["__c=1"];r=C.join("&");C=l.parse(x);var F=l.parse("1234567812345678");
n.push("d="+encodeURIComponent(q.encrypt(r,C,{iv:F})+x));onyx.data.Ajax.send({url:h,data:n.join("&"),callback:function(E){E=E.text;E=q.decrypt(E.substring(32),l.parse(E.substring(0,32)),{iv:F}).toString(l);E=str2bigInt(E,10,0);E=powMod(E,u,v);E=CryptoJS.MD5(bigInt2str(E,10));a&&a(E,t);v=u=t=F=null}});x=z=r=n=null}var f=null,d=new onyx.Hashtable;return{getPoolAjaxRequest:function(h){var a=onyx.data.Ajax,n=null;d.each(function(r,t){if(r.using==false)if(p.isIE_6_7())d.remove(t);else{r.using=true;n=r;
n.reset(h)}});if(n==null){n=new a(h);n.using=true;d.put(d.size(),n)}return n},send:function(h){var a=h.onload,n=h.onabort,r=this.getPoolAjaxRequest(j.merge(h,{onload:function(){r.using=false;a&&a(r)},onabort:function(){n&&n(r)}}));r.send(h.data);return r},cryptoSend:function(h){var a=this;g(function(){b(h.url,function(n,r){n=l.parse(n);r=l.parse(r);var t=h.data;if(o.isObj(t))t=j.toStr(t,"&","=",true);var u=["__c=2"];u.push("d="+encodeURIComponent(q.encrypt(t,n,{iv:r})));h.data=u.join("&");a.send(h);
a=null})})},createXMLHttpRequest:function(){if(f)return f();else{var h;try{f=function(){return new XMLHttpRequest};h=f()}catch(a){}if(!h)for(var n=["Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"],r,t=0,u=n.length;t<u;t++)try{r=n[t];f=function(){return new ActiveXObject(r)};h=f();break}catch(v){}if(!h)throw new Error("\u672a\u80fd\u521b\u5efaXMLHttpRequest\u5bf9\u8c61");return h}},readyState:{NOT_INIT:0,POSTING:1,POSTED:2,REQUESTING:3,LOADED:4},
requestStatus:{OK:200,SERVER_ERROR:500},requestHeader:{xml:"text/xml;charset=utf-8",json:"text/json;charset=utf-8","default":"application/x-www-form-urlencoded"}}}()).__methods({__init:function(g){g=g||{};this.reset(g)},reset:function(g){var c=o.getStr,b=o.getBool,f=o.getFunc;j.merge(this,{__method:c(g.method,"post"),__url:c(g.url,null),__isAsync:b(g.isAsync,true),__dataType:c(g.dataType,"default"),__readyStateChange:f(g.readyStateChange,null),__onServerError:f(g.onServerError,null),__onload:f(g.load,
null),__onabort:f(g.onabort,null),__callback:f(g.callback,null)});if(this.__url===null)throw new Error("url\u4e0d\u80fd\u4e3a\u7a7a");},send:function(g){var c=this._xhr(),b=onyx.data.Ajax.requestHeader;c.open(this.method(),this.url(),this.isAsync());c.setRequestHeader("Content-Type",b[this.dataType()]);if(o.isObj(g))g=j.toStr(g,"&","=",true);c.send(g)},destroy:function(){var g="method,url,isAsync,dataType,readyStateChange,onServerError,onload,onabort,callback,xhr";g=g.split(",");for(var c=0,b=g.length;c<
b;c++)delete this["__"+g[c]]},_xhr:function(){if(!this.__xhr){var g=this,c=onyx.data.Ajax,b=c.readyState,f=c.requestStatus,d=c.createXMLHttpRequest();d.onreadystatechange=function(){var h=d.readyState,a=g.__readyStateChange,n=g.__onServerError;if(a)h==b.REQUESTING?a({readyState:h,status:d.status,statusText:d.statusText}):a({readyState:h,status:null,statusText:null});if(h==b.LOADED){(h=g.__onload)&&h();if(d.status==f.OK)g._callback();else d.status==f.SERVER_ERROR&&n&&n(d.responseText)}};this.__xhr=
d}return this.__xhr},method:function(){return this.__method},url:function(){return this.__url},isAsync:function(){return this.__isAsync},dataType:function(){return this.__dataType},getReadyState:function(){return this._xhr().readyState},abort:function(){this._xhr().abort()},_callback:function(){var g=this._xhr(),c=this.__callback;c&&c({status:g.status,text:g.responseText,xml:g.responseXML,stream:g.responseStream,body:g.responseBody})}})})();
(function(){__package("onyx.ui").__interface("IUI").__methods({box:function(){},id:function(){},destroy:function(){}})})();(function(){__package("onyx.ui").__interface("IContainer").__methods({resize:function(){},append:function(){}})})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.CssUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil;__package("onyx.ui").__class("UiUtil").__static(function(){var m=1E3;return{getId:function(k){var g=j.attr(k,"id");if(!g){g="ouid_"+j.randId();j.attrs(k,{id:g})}return g},deVar:function(){var k=arguments.length,g=arguments[0];if(k<2)return this;for(var c,b,f,d=1;d<k;d++){c="__"+arguments[d];b=g[c];if(!q.isUndef(b)){f=b.destroy;q.isFunc(f)&&f.apply(b);delete g[c]}}},delVars:function(){var k=
arguments.length;if(k<2)return 0;for(var g=arguments[0],c=1;c<k;c++)delete g["__"+arguments[c]]},hidden:function(k,g){if(g===true)o.add(k,"oui-hidden");else g===false&&o.remove(k,"oui-hidden")},elemOpts:function(k){if(q.isUndefOrNull(k))return{};k=j.get(k);k=j.attr(k,"opts")==null?[]:j.attr(k,"opts").split(";");for(var g={},c=0,b=k.length,f;c<b;c++){f=k[c].split(":");if(porp=l.trim(f[0]))g[porp]=l.trim(f[1])}return g},maxZIndex:function(k){m++;p.set(k,{"z-index":m})}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.EventUtil;__package("onyx.ui").__class("Event").__methods(function(){return{__init:function(p){this.__elem=p.elem;this.__action=p.action;this.__func=p.func;p=p.enabled;this.enabled(q.isBool(p)?p:true)},elem:function(p){if(q.isUndef(p))return this.__elem;else{this._changeProps("elem",p);return this}},action:function(p){if(q.isStr(p)){this._changeProps("action",p);return this}else return this.__action},func:function(p){if(q.isFunc(p)){this._changeProps("func",
p);return this}else return this.__func},_changeProps:function(p,o){var j=this.enabled();j&&this.enabled(false);this["__"+p]=o;j&&this.enabled(j)},enabled:function(p){var o=this.__enabled;if(q.isBool(p)){if(o!=p){o=this.elem();var j=this.action(),m=this.func();p?l.bind(o,j,m):l.remove(o,j,m);this.__enabled=p}}else return o},destroy:function(){this.enabled(false);delete this.__elem;delete this.__action;delete this.__func;delete this.__enabled}}}()).__static(function(){var p={};(function(o){for(var j=
"load,click,mouseover,mouseout,mouseenter,mousedown,mouseup,mousemove,mousepress,selectstart,change,focus,blur,resize,keyup,keydown,keypress,scroll".split(","),m=function(b){return function(f,d,h){return new onyx.ui.Event({elem:f,action:b,func:d,enabled:h})}},k=0,g=j.length,c;k<g;k++){c=j[k];o[c]=m(c)}})(p);return p}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.DomUtil,p=onyx.util.CssUtil;__package("onyx.ui").__class("Animation").__methods(function(){var o={easeInQuad:function(j){return Math.pow(j,2)},easeOutQuad:function(j){return-(Math.pow(j-1,2)-1)},easeInOutQuad:function(j){if((j/=0.5)<1)return 0.5*Math.pow(j,2);return-0.5*((j-=2)*j-2)},easeInCubic:function(j){return Math.pow(j,3)},easeOutCubic:function(j){return Math.pow(j-1,3)+1},easeInOutCubic:function(j){if((j/=0.5)<1)return 0.5*Math.pow(j,3);return 0.5*
(Math.pow(j-2,3)+2)},easeInQuart:function(j){return Math.pow(j,4)},easeOutQuart:function(j){return-(Math.pow(j-1,4)-1)},easeInOutQuart:function(j){if((j/=0.5)<1)return 0.5*Math.pow(j,4);return-0.5*((j-=2)*Math.pow(j,3)-2)},easeInQuint:function(j){return Math.pow(j,5)},easeOutQuint:function(j){return Math.pow(j-1,5)+1},easeInOutQuint:function(j){if((j/=0.5)<1)return 0.5*Math.pow(j,5);return 0.5*(Math.pow(j-2,5)+2)},easeInSine:function(j){return-Math.cos(j*(Math.PI/2))+1},easeOutSine:function(j){return Math.sin(j*
(Math.PI/2))},easeInOutSine:function(j){return-0.5*(Math.cos(Math.PI*j)-1)},easeInExpo:function(j){return j==0?0:Math.pow(2,10*(j-1))},easeOutExpo:function(j){return j==1?1:-Math.pow(2,-10*j)+1},easeInOutExpo:function(j){if(j==0)return 0;if(j==1)return 1;if((j/=0.5)<1)return 0.5*Math.pow(2,10*(j-1));return 0.5*(-Math.pow(2,-10*--j)+2)},easeInCirc:function(j){return-(Math.sqrt(1-j*j)-1)},easeOutCirc:function(j){return Math.sqrt(1-Math.pow(j-1,2))},easeInOutCirc:function(j){if((j/=0.5)<1)return-0.5*
(Math.sqrt(1-j*j)-1);return 0.5*(Math.sqrt(1-(j-=2)*j)+1)},easeOutBounce:function(j){return j<1/2.75?7.5625*j*j:j<2/2.75?7.5625*(j-=1.5/2.75)*j+0.75:j<2.5/2.75?7.5625*(j-=2.25/2.75)*j+0.9375:7.5625*(j-=2.625/2.75)*j+0.984375},easeInBack:function(j){return j*j*(2.70158*j-1.70158)},easeOutBack:function(j){return(j-=1)*j*(2.70158*j+1.70158)+1},easeInOutBack:function(j){var m=1.70158;if((j/=0.5)<1)return 0.5*j*j*(((m*=1.525)+1)*j-m);return 0.5*((j-=2)*j*(((m*=1.525)+1)*j+m)+2)},elastic:function(j){return-1*
Math.pow(4,-8*j)*Math.sin((j*6-1)*2*Math.PI/2)+1},swingFromTo:function(j){var m=1.70158;return(j/=0.5)<1?0.5*j*j*(((m*=1.525)+1)*j-m):0.5*((j-=2)*j*(((m*=1.525)+1)*j+m)+2)},swingFrom:function(j){return j*j*(2.70158*j-1.70158)},swingTo:function(j){return(j-=1)*j*(2.70158*j+1.70158)+1},bounce:function(j){return j<1/2.75?7.5625*j*j:j<2/2.75?7.5625*(j-=1.5/2.75)*j+0.75:j<2.5/2.75?7.5625*(j-=2.25/2.75)*j+0.9375:7.5625*(j-=2.625/2.75)*j+0.984375},bouncePast:function(j){return j<1/2.75?7.5625*j*j:j<2/2.75?
2-(7.5625*(j-=1.5/2.75)*j+0.75):j<2.5/2.75?2-(7.5625*(j-=2.25/2.75)*j+0.9375):2-(7.5625*(j-=2.625/2.75)*j+0.984375)},easeFromTo:function(j){if((j/=0.5)<1)return 0.5*Math.pow(j,4);return-0.5*((j-=2)*Math.pow(j,3)-2)},easeFrom:function(j){return Math.pow(j,4)},easeTo:function(j){return Math.pow(j,0.25)},linear:function(j){return j},sinusoidal:function(j){return-Math.cos(j*Math.PI)/2+0.5},reverse:function(j){return 1-j},mirror:function(j,m){m=m||o.sinusoidal;return j<0.5?m(j*2):m(1-(j-0.5)*2)},flicker:function(j){j+=
(Math.random()-0.5)/5;return o.sinusoidal(j<0?0:j>1?1:j)},wobble:function(j){return-Math.cos(j*Math.PI*9*j)/2+0.5},pulse:function(j,m){return-Math.cos(j*((m||5)-0.5)*2*Math.PI)/2+0.5},blink:function(j,m){return Math.round(j*(m||5))%2},spring:function(j){return 1-Math.cos(j*4.5*Math.PI)*Math.exp(-j*6)},none:function(){return 0},full:function(){return 1}};return{__init:function(j){this.__elem=j.elem;this.__left=j.left;this.__top=j.top;this.__width=j.width;this.__height=j.height;this.__opacity=j.opacity;
this.__time=j.time;this.__finish=j.finish;this.__ftp=j.ftp||24;this.__duration=j.duration||500;if(q.isStr(j.expr)){var m=o[j.expr];if(!m)throw new Error("\u52a8\u753b:"+j.expr+"\u4e0d\u5b58\u5728");this.__expr=m}else if(q.isFunc(j.expr))this.__expr=j.expr;else throw new Error("\u53c2\u6570 expr \u4e0d\u6b63\u786e");var k=this;this.__timer=new onyx.Timer({delay:1E3/this.__ftp,enabled:false,func:function(){var g=(new Date).getTime()-k.__startTime,c=k.__duration,b=k.__expr(g/c),f=k.__elem.style,d=k.__left,
h=k.__top,a=k.__width,n=k.__height,r=k.__opacity;if(c<=g){if(q.isNum(d))f.left=d+"px";if(q.isNum(h))f.top=h+"px";if(q.isNum(a))f.width=a+"px";if(q.isNum(n))f.height=n+"px";q.isNum(r)&&p.opacity(k.__elem,r);return false}if(q.isNum(d)){g=k.__startLeft;f.left=Math.ceil(g+b*(d-g))+"px"}if(q.isNum(h)){d=k.__startTop;f.top=Math.ceil(d+b*(h-d))+"px"}if(q.isNum(a)){h=k.__startWidth;f.width=Math.ceil(h+b*(a-h))+"px"}if(q.isNum(n)){a=k.__startHeight;f.height=Math.ceil(a+b*(n-a))+"px"}if(q.isNum(r)){f=k.__startOpacity;
p.opacity(k.__elem,f+b*(r-f))}}})},paly:function(){this.__startTime=(new Date).getTime();var j=this.__elem,m=l.position(j);this.__startLeft=m.left;this.__startTop=m.top;this.__startWidth=j.offsetWidth;this.__startHeight=j.offsetHeight;this.__startOpacity=p.opacity(j);this.__timer.enabled(true)},stop:function(){this.__timer.enabled(false)},elem:function(j){if(q.isUndef(j))return this.__elem;else{this._changeProps("elem",j);return this}},left:function(j){if(q.isNum(j)){this._changeProps("left",j);return this}else return this.__left},
top:function(j){if(q.isNum(j)){this._changeProps("top",j);return this}else return this.__top},expr:function(j){if(q.isStr(j)){this._changeProps("expr",o[j]);return this}else if(q.isFunc(j)){this._changeProps("expr",j);return this}else return this.__time},time:function(j){if(q.isNum(j)){this._changeProps("time",j);return this}else return this.__time},finish:function(j){if(q.isFunc(j)){this._changeProps("finish",j);return this}else return this.__func},_changeProps:function(j,m){this["__"+j]=m},destroy:function(){delete this.__elem;
delete this.__action;delete this.__func;delete this.__enabled}}}()).__static(function(){}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.CssUtil,p=onyx.util.ClassUtil,o=onyx.util.DomUtil,j=onyx.ui.UiUtil;__package("onyx.ui").__class("Box").__methods(function(){return{__init:function(m){m=m||{};var k=m.box;if(!q.isObj(k))throw new Error("box\u53c2\u6570\u9519\u8bef");this.__box=k;this.__visibled=this.__enabled=true;this.__actived=false;this.width(m.width);this.enabled(m.enabled);this.visibled(m.visibled);this.actived(m.actived);this.data(m.data)},id:function(){var m=this.__id;if(!m)this.__id=
m=j.getId(this.__box);return m},position:function(){return o.position(this.__box)},top:function(m){var k=this.__box;if(q.isNum(m)){l.top(k,m);return this}else return l.top(k)},left:function(m){var k=this.__box;if(q.isNum(m)){l.left(k,m);return this}else return l.left(k)},width:function(m){var k=this.__box;if(q.isNum(m)){o.width(k,m);return this}else return o.width(k)},height:function(m){var k=this.__box;if(q.isNum(m)){o.height(k,m);return this}else return o.height(k)},data:function(m){if(q.isUndef(m))return this.__data||
null;else{this.__data=m;return this}},enabled:function(m){if(q.isBool(m)){if(m!==this.__enabled){var k=this.__box;m?p.remove(k,"ui-state-disabled"):p.add(k,"ui-state-disabled");this.__enabled=m}return this}else return this.__enabled},visibled:function(m){var k=this.__visibled;if(q.isBool(m)){if(m!==k){l.display(this.__box,m?"":"none");this.__visibled=m}return this}else return k},actived:function(m){var k=this.__actived;if(q.isBool(m)){if(m!==k){k=this.__box;m?p.add(k,"ui-state-active"):p.remove(k,
"ui-state-active");this.__actived=m}return this}else return k},opacity:function(m){q.isNum(m)&&l.opacity(this.__box,m);return this},tran:function(m){var k=this.__tran;if(q.isBool(m)){if(m!==k){k=this.__box;m?p.add(k,"oui-tran"):p.remove(k,"oui-tran");this.__tran=m}return this}else return k},equal:function(m){if(!q.isObj(m))return false;if(!q.isFunc(m.id))return false;return this.id()===m.id()},remove:function(){o.remove(this.__box)},destroy:function(){delete this.__enabled;delete this.__visibled;
delete this.__actived;delete this.__data;delete this.__tran}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.EventUtil,p=onyx.util.DomUtil,o=onyx.util.CssUtil,j=onyx.util.ClassUtil,m=onyx.ui.Event;__package("onyx.ui").__class("DragAndDrop").__methods(function(){function k(c,b){c.__avtElemSelectStart.enabled(b);c.__docMouseMove.enabled(b);c.__avtElemMouseUp.enabled(b);c.__docMouseUp.enabled(b)}function g(c,b,f){var d=c.enabled();d&&c.enabled(false);c["__"+b]=f;d&&c.enabled(d)}return{__init:function(c){var b=onyx.Dom.doc(),f=c.elem;this.__elem=f;var d=c.avtElem?
c.avtElem:c.elem,h=c.rectElem?c.rectElem:b;j.add(f,"oui-select-none oui-drag");var a=this;this.__mouseCoordRect=this.__mouseCoordInElem=null;this.__avtElemMouseDown=new m.mousedown(d,function(n){var r=p.position(f),t={width:p.width(f),height:p.height(f)};n=l.mouseCoord(n);a.__mouseCoordInElem={x:n.x-r.left,y:n.y-r.top};if(h===b){r=p.workArea();a.__mouseCoordRect={minX:0,minY:0,maxX:r.width-t.width,maxY:r.height-t.height}}else{r=p.position(h);rectWidth=h.clientWidth;rectHeight=h.clientHeight;a.__mouseCoordRect=
{minX:r.left,minY:r.top,maxX:r.left+rectWidth-t.width,maxY:r.top+rectHeight-t.height}}k(a,true)},false);this.__avtElemSelectStart=new m.selectstart(d,function(){return false},false);this.__docMouseMove=new m.mousemove(b,function(n){var r=l.mouseCoord(n),t=a.__mouseCoordInElem;n=a.__mouseCoordRect;var u=r.x-t.x;r=r.y-t.y;if(u<n.minX)u=n.minX;if(u>n.maxX)u=n.maxX;if(r<n.minY)r=n.minY;if(r>n.maxY)r=n.maxY;o.position(f,u,r)},false);this.__avtElemMouseUp=new m.mouseup(d,function(){k(a,false)});this.__docMouseUp=
new m.mouseup(b,function(){k(a,false)});c=c.enabled;this.enabled(q.isBool(c)?c:true)},elem:function(c){if(q.isUndef(c))return this.__elem;else{g(this,"elem",c);return this}},action:function(c){if(q.isStr(c)){g(this,"action",c);return this}else return this.__action},func:function(c){if(q.isFunc(c)){g(this,"func",c);return this}else return this.__func},enabled:function(c){if(q.isBool(c)){if(this.__enabled!=c){c||k(this,false);this.__avtElemMouseDown.enabled(c);this.__enabled=c}}else return this.__enabled},
destroy:function(){this.enabled(false);delete this.__elem;delete this.__action;delete this.__func;delete this.__enabled}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.CssUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil;__package("onyx.ui").__class("Label").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods({__init:function(m){m=m||{};var k=this.box(m);this.__super("__init",arguments,{box:k});this.width(m.width);this.text(m.text)},width:function(m){q.isNum(m)&&o.add(this.box(),"oui-label-fixed");return this.__super("width",arguments,m)},text:function(m){var k=this.box();if(q.isStr(m))j.text(k,
m);else return j.text(k)},html:function(m){var k=this.box();if(q.isStr(m))j.html(k,m);else return j.html(k)},box:function(m){var k=this.__box;if(!k){if(!m)throw new Error("\u53c2\u6570o\u9519\u8bef");k=m.box;k=q.isUndef(k)?j.create("label"):j.get(k);var g=l.trimJoin(["oui-label",m.cssClass]," ");o.add(k,g);m.style&&p.set(k,m.style);this.__box=k}return k},destroy:function(){delete this.__box}})})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.CssUtil,o=onyx.util.ClassUtil,j=onyx.util.ObjUtil,m=onyx.util.DomUtil,k=onyx.ui.Event,g=onyx.ui.UiUtil;__package("onyx.ui").__class("Button").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function c(h){var a=h.box();h.__boxMouseover=k.mouseover(a,function(){h.enabled()&&o.add(a,d)});h.__boxMouseout=k.mouseout(a,function(){o.remove(a,d);if(!h.activatable()||!h.actived())h.actived(false)});h.__boxMouseDown=
k.mousedown(a,function(){!h.actived()&&h.enabled()&&h.actived(true)});h.__boxMouseUp=k.mouseup(a,function(){if(!h.activatable()||!h.actived())h.actived(false)});var n=h.__spanLico;n&&m.append(a,n);m.append(a,f(h));(n=h.__spanRico)&&m.append(a,n)}function b(h,a){a="__span"+l.upperFirst(a);var n=h[a];if(!n){n=m.create("span",{cssClass:"ui-icon oui-button-ico"});h[a]=n}return n}function f(h){var a=h.__spanText;if(!a){a=m.create("span",{cssClass:"oui-button-text"});h.__spanText=a}return a}var d="ui-state-hover";
return{__init:function(h){if(q.isStr(h))h={box:h};var a=this.box(h);h=j.merge(g.elemOpts(a),h);this.__super("__init",arguments,j.merge(h,{box:a}));this.lico(h.lico);this.text(h.text||"");this.rico(h.rico);c(this,h);this.click(h.click);this.activatable(h.activatable||false);this.enabled(h.enabled)},box:function(h){var a=this.__box;if(!a&&h){a=h.box;a=q.isUndef(a)?m.create("span"):m.get(a);o.add(a,l.trimJoin(["ui-corner-all ui-state-default oui-select-none oui-button",h.cssClass]," "));this.__box=a}return a},
id:function(){return this.__id},text:function(h){if(q.isUndef(h))return this.__text||"";else{var a=f(this);m.text(a,h+"");this.__text=h;p.set(a,{display:h===""?"none":""});return this}},click:function(h){if(q.isFunc(h)){var a=this.__boxUserClick;if(a)a.func(h);else this.__boxUserClick=a=k.click(this.box(),h)}return this},lico:function(h){if(q.isUndef(h))return this.__lico;else{var a=b(this,"lico"),n=this.__lico;n&&o.remove(a,n);o.add(a,h);this.__lico=h;return this}},rico:function(h){if(q.isUndef(h))return this.__rico;
else{var a=b(this,"rico"),n=this.__rico;n&&o.remove(a,n);o.add(a,h);this.__rico=h;return this}},enabled:function(h){if(q.isBool(h)){var a=this.__boxUserClick;a&&a.enabled(h)}return this.__super("enabled",arguments,h)},activatable:function(h){var a=this.__activatable;if(q.isBool(h)){if(h!==a)this.__activatable=h}else return a},height:function(){},destroy:function(){g.deVar(this,"boxMouseover","boxMouseout","boxMouseDown","boxMouseUp","boxUserClick");delete this.__box;delete this.__id;delete this.__text;
delete this.__lico;delete this.__rico;delete this.__spanLico;delete this.__spanRico}}}())})();
(function(){var q=onyx.Browser,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ObjUtil,j=onyx.util.ClassUtil,m=onyx.util.DomUtil,k=onyx.ui.Event,g=onyx.ui.UiUtil;__package("onyx.ui").__class("TextBox").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__static(function(){return{hasPlaceholderSupport:null}}()).__methods(function(){function c(d,h){var a=d.box(),n=d.input(),r=onyx.ui.TextBox.hasPlaceholderSupport;j.add(a,p.trimJoin(["ui-state-default oui-textbox",h.cssClass]," "));if(r==null){r=
"placeholder"in n;onyx.ui.TextBox.hasPlaceholderSupport=r}d.placeholder(h.placeholder);d.text(h.text||"");d.__boxMouseover=k.mouseover(a,h._boxMouseover||function(){j.add(a,"ui-state-hover")});d.__boxMouseout=k.mouseout(a,h._boxMouseout||function(){j.remove(a,"ui-state-hover")});if(r=h.change)d.__inputChange=k.change(n,r);d.__inputFocus=k.focus(n,h._inputFocus||function(){j.add(a,"ui-state-focus")});d.__inputBlur=k.blur(n,h._inputBlur||function(){d.__isEmpty=n.value=="";j.remove(a,"ui-state-focus")});
(r=d.__spanLico)&&m.append(a,r);r=h.maxlen;l.isNum(r)&&m.attrs(n,{maxlength:r});h=h.algin;l.isStr(h)&&d.algin(h);m.append(a,n);(r=d.__spanRico)&&m.append(a,r);q.isIE_6_7()&&m.append(a,b(d))}function b(d){var h=d.__divIeBug;if(!h){h=m.create("div",{cssClass:"ie-bug"});d.__divIeBug=h}return h}function f(d,h){h="__span"+p.upperFirst(h);var a=d[h];if(!a){a=m.create("span",{cssClass:"ui-icon oui-textbox-ico"});d[h]=a}return a}return{__init:function(d){d=d||{};var h=this.box(d);d=o.merge(g.elemOpts(h),
d);this.lico(d.lico);this.rico(d.rico);c(this,d);this.__super("__init",arguments,o.merge(d,{box:h}));this.readonly(d.readonly||false);this.blur(d.blur);this.resize()},input:function(){var d=this.__input;if(!d)this.__input=d=m.create("input",{cssClass:"oui-textbox-input",attrs:{type:"text"}});return d},enabled:function(d){if(l.isBool(d))this.__input.readOnly=!d;return this.__super("enabled",arguments,d)},box:function(d){var h=this.__box;if(!h){if(!d)throw new Error("\u53c2\u6570o\u9519\u8bef");d=d.box;
this.__box=h=l.isUndef(d)?m.create("div"):m.get(d)}return h},value:function(d){return this.text(d)},text:function(d){var h=this.input();if(l.isUndef(d))return this.isEmpry()?"":h.value;else{if(onyx.ui.TextBox.hasPlaceholderSupport){if(l.isUndefOrNull(d))d="";h.value=d}else if(d===""){var a=this.placeholder();if(a){h.value=a;j.add(h,"oui-textbox-placeholder")}}else{h.value=d;j.remove(h,"oui-textbox-placeholder")}this.__isEmpty=d===""}},isEmpry:function(){return this.__isEmpry},placeholder:function(d){if(l.isStr(d)){var h=
this,a=this.input();if(onyx.ui.TextBox.hasPlaceholderSupport)m.attrs(a,{placeholder:d});else if(!this.__inputPhFocus){this.__inputPhFocus=k.focus(a,function(){if(h.isEmpty())a.value="";j.remove(a,"oui-textbox-placeholder")});this.__inputPhBlur=k.blur(a,function(){if(a.value==""){a.value=h.placeholder();j.add(a,"oui-textbox-placeholder")}})}this.__placeholder=d}else return this.__placeholder},readonly:function(d){if(l.isBool(d)){if(d!==this.__readonly)this.__readonly=this.input().readOnly=d}else return this.__readonly},
lico:function(d){if(l.isUndef(d))return this.__lico;else{var h=f(this,"lico"),a=this.__lico;a&&j.remove(h,a);j.add(h,d);this.__lico=d;return this}},rico:function(d){if(l.isUndef(d))return this.__rico;else{var h=f(this,"rico"),a=this.__rico;a&&j.remove(h,a);j.add(h,d);this.__rico=d;return this}},blur:function(d){if(l.isFunc(d)){var h=this.__inputBlur;if(h)h.func(d);else this.__inputBlur=h=k.blur(this.input().fn)}return this},algin:function(d){var h=this.input();l.isStr(d)?CssUtil.set(h,{"text-algin":d}):
CssUtil.get(h,"text-algin")},isEmpty:function(){return this.__isEmpty},resize:function(){var d=m.clientWidth(this.box());if(d==0)return false;var h=this.__spanLico;if(h)d-=m.outerWidth(h);if(h=this.__spanRico)d-=m.outerWidth(h);m.outerWidth(this.input(),d)},destroy:function(){this.__boxMouseover.enabled(false);this.__boxMouseout.enabled(false);this.__inputFocus.enabled(false);this.__inputBlur.enabled(false);this.__inputPhFocus&&this.__inputPhFocus.enabled(false);this.__inputPhBlur&&this.__inputPhBlur.enabled(false);
delete this.__boxMouseover;delete this.__boxMouseout;delete this.__inputChange;delete this.__inputFocus;delete this.__inputBlur;delete this.__inputPhFocus;delete this.__inputPhBlur;delete this.__lico;delete this.__rico;delete this.__placeholder;delete this.__readonly;delete this.__input;delete this.__isEmpty;delete this.__divIeBug;delete this.__spanLico;delete this.__spanRico;m.remove(this.__box);delete this.__box}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil,m=onyx.ui.Event,k=onyx.ui.UiUtil;__package("onyx.ui").__class("TextArea").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function g(c,b){var f=c.box(),d=c.input(),h=onyx.ui.TextBox.hasPlaceholderSupport;o.add(f,l.trimJoin(["ui-state-default oui-textbox",b.cssClass]," "));if(h==null){h="placeholder"in d;onyx.ui.TextBox.hasPlaceholderSupport=h}c.placeholder(b.placeholder);
c.text(b.text||"");c.__boxMouseover=m.mouseover(f,b._boxMouseover||function(){o.add(f,"ui-state-hover")});c.__boxMouseout=m.mouseout(f,b._boxMouseout||function(){o.remove(f,"ui-state-hover")});c.__inputFocus=m.focus(d,b._inputFocus||function(){o.add(f,"ui-state-focus")});c.__inputBlur=m.blur(d,b._inputBlur||function(){c.__isEmpty=d.value=="";o.remove(f,"ui-state-focus")});(h=c.__spanLico)&&j.append(f,h);h=b.maxlen;q.isNum(h)&&j.attrs(d,{maxlength:h});b=b.algin;q.isStr(b)&&c.algin(b);j.append(f,d);
(h=c.__spanRico)&&j.append(f,h)}return{__init:function(c){c=c||{};var b=this.box(c);c=p.merge(k.elemOpts(b),c);g(this,c);this.__super("__init",arguments,p.merge(c,{box:b}));this.height(c.height);this.readonly(c.readonly||false);this.blur(c.blur);this.resize()},input:function(){var c=this.__input;if(!c)this.__input=c=j.create("textarea",{cssClass:"oui-textarea-input"});return c},enabled:function(c){if(q.isBool(c))this.__input.readOnly=!c;return this.__super("enabled",arguments,c)},box:function(c){var b=
this.__box;if(!b){if(!c)throw new Error("\u53c2\u6570o\u9519\u8bef");c=c.box;this.__box=b=q.isUndef(c)?j.create("div"):j.get(c)}return b},value:function(c){return this.text(c)},text:function(c){var b=this.input();if(q.isStr(c)){if(onyx.ui.TextBox.hasPlaceholderSupport){if(q.isUndefOrNull(c))c="";b.value=c}else if(c===""){var f=this.placeholder();if(f){b.value=f;o.add(b,"oui-textbox-placeholder")}}else{b.value=c;o.remove(b,"oui-textbox-placeholder")}this.__isEmpty=c===""}else return this.isEmpry()?
"":b.value},isEmpry:function(){return this.__isEmpry},placeholder:function(c){if(q.isStr(c)){var b=this,f=this.input();if(onyx.ui.TextBox.hasPlaceholderSupport)j.attrs(f,{placeholder:c});else if(!this.__inputPhFocus){this.__inputPhFocus=m.focus(f,function(){if(b.isEmpty())f.value="";o.remove(f,"oui-textarea-placeholder")});this.__inputPhBlur=m.blur(f,function(){if(f.value==""){f.value=b.placeholder();o.add(f,"oui-textarea-placeholder")}})}this.__placeholder=c}else return this.__placeholder},readonly:function(c){if(q.isBool(c)){if(c!==
this.__readonly)this.__readonly=this.input().readOnly=c}else return this.__readonly},blur:function(c){if(q.isFunc(c)){var b=this.__inputBlur;if(b)b.func(c);else this.__inputBlur=b=m.blur(this.input().fn)}return this},algin:function(c){var b=this.input();q.isStr(c)?CssUtil.set(b,{"text-algin":c}):CssUtil.get(b,"text-algin")},isEmpty:function(){return this.__isEmpty},resize:function(c){c=c||{};this.width(c.width);this.height(c.height);var b=this.box();c=this.input();var f=j.clientWidth(b);b=j.clientHeight(b);
if(f==0||b==0)return false;j.outerWidth(c,f);j.outerHeight(c,b)},destroy:function(){}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.util.DomUtil;__package("onyx.ui").__class("ImageBox").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function j(m){var k=m.__img;if(!k){k=o.create("img",{});m.__img=k}return k}return{__init:function(m){m=m||{};var k=this.box(m);this.__super("__init",arguments,p.merge(m,{box:k}));this.width(m.width);this.height(m.height);this.src(m.src)},src:function(m){if(l.isStr(m))o.attr(j(this),"src",m);else return o.attr(j(this),
"src")},box:function(m){var k=this.__box;if(!k)this.__box=k=o.create("span",{cssClass:q.trimJoin(["oui-img-box",m.cssClass]," "),children:[{tag:"span",cssClass:"inner-box",children:[j(this)]}]});return k},width:function(m){l.isNum(m)&&o.width(this.box(),m)},height:function(m){l.isNum(m)&&o.height(this.box(),m)},destroy:function(){delete this.__box}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil;__package("onyx.ui").__class("Panel").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__implements(onyx.ui.IContainer).__methods(function(){return{__init:function(m){m=m||{};var k=this.box(m);this.__super("__init",arguments,p.merge(m,{box:k}));this.width(m.width);this.height(m.height)},box:function(m){var k=this.__box;if(!k&&m){k=m.box;k=q.isUndef(k)?j.create("div"):j.get(k);o.add(k,
l.trimJoin(["oui-panel",m.cssClass]," "));this.__box=k}return k},resize:function(){},destroy:function(){j.remove(this.__box);delete this.__box},append:function(m){j.append(this.__box,m.box?m.box():m)}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.DomUtil,j=onyx.util.ClassUtil,m=onyx.ui.Event,k=onyx.ui.UiUtil,g=onyx.ui.Panel;__package("onyx.ui").__class("BorderLayout").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(c){if(q.isStr(c))c={box:c};c=p.merge(k.elemOpts(c.box),c);this.__super("__init",arguments,{box:this.box(c)});this._initUI(c);this.__onResize=q.getFunc(c.onResize||null);this.__resizeOnWinResize=q.getBool(c.resizeOnWinResize,
false);if(this.__resizeOnWinResize===true){var b=this;this.__winResize=m.resize(onyx.Window.get(),function(){b.resize()})}},_initUI:function(c){for(var b="center,north,south,west,east".split(","),f=this.box(),d=o.children(f),h=function(x){for(var z=0,C=d.length,F;z<C;z++){F=d[z];if(j.has(F,"oui-layout-"+x))return F}return null},a,n=0,r=b.length,t,u;n<r;n++){t=b[n];u=c[t];a=h(t);if(q.isObj(u))if(a==null){a=o.create("div");if(t==="center")o.append(a,f);else{var v=this.centerPanel().box();if(t==="west")o.insertBefore(a,
v);else t==="east"?o.insertAfter(a,v):o.append(f,a)}}if(a)u=p.merge(k.elemOpts(a),u||{});this._ctPanel(a,t,u)}},_ctPanel:function(c,b,f){if(c==null)this[b+"Panel"]=function(){return null};else{var d="oui-layout-"+b;if(f&&q.isStr(f.cssClass))d=d+" "+f.cssClass;var h=new g({box:c,cssClass:d});if(b==="north"||b==="south"){c=120;if(f&&f.size)c=f.size;h.height(parseInt(c))}else if(b==="west"||b==="east"){c=200;if(f&&f.size)c=f.size;h.width(parseInt(c))}this["__"+b+"Panel"]=h;this[b+"Panel"]=function(){return h}}},
resize:function(){var c=this.box(),b=o.clientWidth(c),f=o.clientHeight(c);c=this.centerPanel();var d=this.northPanel(),h=this.southPanel(),a=this.westPanel(),n=this.eastPanel(),r=b;f=f;if(d){d.width(b);f-=d.height()}if(h){h.width(b);f-=h.height()}if(a){a.height(f);r-=a.width()}if(n){n.height(f);r-=n.width()}c.height(f);c.width(r);(b=this.__onResize)&&b.call(this)},centerPanel:function(){return this.__centerPanel},box:function(c){var b=this.__box;if(!b&&c){b=c.box;b=q.isUndef(b)?o.create("div"):o.get(b);
j.add(b,l.trimJoin(["oui-layout",c.cssClass]," "));this.__box=b}return b},destroy:function(){}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.util.DomUtil;__package("onyx.ui").__class("CardPanel").__extends(onyx.ui.Panel).__methods(function(){return{__init:function(j){j=j||{};this.__parent=j._parent;this.__super("__init",arguments,p.merge(j,{cssClass:q.trimJoin(["oui-layout-card",j.cssClass]," ")}));this.__panelId=j.panelId||o.randId();this.__onShow=l.getFunc(j.onShow,null);this.__opering=false},opering:function(){return this.__opering},panelId:function(){return this.__panelId},
_startOper_:function(){this.isShow()||this.tran(true);this.visibled(true);this.__opering=true},endOper:function(){this.tran(false);this.isShow()||this.visibled(false);this.__opering=false},remove:function(){this.__parent.remove(this.index())},show:function(){this.__parent.show(this.index())},_onShow_:function(){return this.__onShow},hide:function(){this.isShow()&&this.__parent.hide()},isShow:function(){return this.__parent.showIndex()==this.index()},parent:function(){return this.__parent},_parent_:function(j){this.__parent=
j},index:function(){return this.__index},_index_:function(j){if(!l.isNum(j))throw new Error("\u53c2\u6570n\u9519\u8bef");this.__index=j},prev:function(){return this.__prev},_prev_:function(j){this.__prev=j},next:function(){return this.__next},_next_:function(j){this.__next=j},_reset_:function(){this.__next=this.__prev=this.__parent=null},destroy:function(){this.__super("destroy",arguments)}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ArrayUtil,j=onyx.util.ObjUtil,m=onyx.util.DomUtil,k=onyx.ui.UiUtil,g=onyx.ui.CardPanel;__package("onyx.ui").__class("CardLayout").__extends(onyx.ui.Panel).__methods(function(){function c(b,f){f=f||{};var d=b.__arrPanels,h=b.__htPanels,a=l.getNum(f.index,null);b=new (f._panelType||g)(j.merge(f,{_parent:b,cssClass:p.trimJoin(["oui-layout-card",f.cssClass]," ")}));var n=b.panelId();f=d.length;h.contains(n)&&onyx.error("\u5df2\u5b58\u5728id\u4e3a"+
n+"\u7684\u9762\u677f");h.put(n,b);if(l.isNum(a)){if(a<0||a>f)onyx.error("\u53c2\u6570index\u8d85\u51fa\u8303\u56f4")}else a=f;if(a>0){h=d[a-1];h._next_(b);b._prev_(h)}if(a<f-1){h=d[a];h._prev_(b);b._next_(h)}if(a==f)d.push(b);else{for(h=a;h<f;h++)d[h]._index_(h+1);o.insert(d,a,b)}b._index_(a);b.visibled(false);return b}return{__init:function(b){if(l.isStr(b))b={box:b};b=j.merge(k.elemOpts(b.box),b);this.__super("__init",arguments,j.merge(b,{cssClass:p.trimJoin(["oui-layout oui-cardlayout",b.cssClass],
" ")}));this.__arrPanels=[];this.__htPanels=new q;this.__showPanel=null;this.__onShow=l.getObj(b.onShow,{});this.__onPanelShow=l.getFunc(b.onPanelShow,null);this.__beforePanelRemove=l.getFunc(b.beforePanelRemove,null);this.__onPanelRemove=l.getFunc(b.onPanelRemove,null);for(var f=m.children(this.box()),d=0,h=f.length,a;d<h;d++){a=f[d];c(this,j.merge(k.elemOpts(a),{box:a}))}f=b.showIndex;if(!l.isNum(f)&&this.__arrPanels.length>0)f=0;this.show(f)},prev:function(){var b=this.showIndex();b>0&&this.show(b-
1)},next:function(){var b=this.showIndex();b<this.__arrPanels.length-1&&this.show(b+1)},showPanel:function(){return this.__showPanel},showIndex:function(){var b=this.__showPanel;return b?b.index():-1},addPanel:function(b){b=c(this,b);var f=b.next();f?m.insertBefore(b.box(),f.box()):this.append(b);return b},getPanel:function(b){return this.__htPanels.get(b)},remove:function(b){var f=this.__arrPanels,d=f.length;if(b<0||b>=d)onyx.error("\u53c2\u6570i\u8d85\u51fa\u8303\u56f4");var h=f[b],a=h.prev(),n=
h.next(),r=this.__beforePanelRemove;if(r&&r.call(this,h)===false)return this;a&&a._next_(n);n&&n._prev_(a);h._reset_();if((a=this.__showPanel)&&b===a.index())this.__showPanel=null;for(a=b;a<d;a++)f[a]._index_(a-1);o.remove(f,b);this.__htPanels.remove(h.panelId());m.remove(h.box());(r=this.__onPanelRemove)&&r.call(this,h);return this},show:function(b){if(!l.isNum(b))return false;var f=this.__arrPanels;if(b<0||b>=f.length)onyx.error("\u53c2\u6570i\u8d85\u51fa\u8303\u56f4");f=f[b];var d=this.__showPanel;
if(!d||b!==d.index()){if(b=this.__onShow[f.id()]){f.tran(true);f.visibled(true);b.call(this,f)}f.tran(false);f.visibled(true);this.hide()}this.__showPanel=f;(b=this.__onPanelShow)&&b.call(this,f)},hide:function(){var b=this.__showPanel;if(b)b.opering()?b.tran(true):b.visibled(false);this.__showPanel=null},oper:function(b){var f=this.__arrPanels,d=this.__htPanels,h;for(var a in b){var n=b[a];if(l.isFunc(n)){if(l.isStr(a))h=d.get(a);else if(l.isNum(a))h=f[a];if(h){h._startOper_();n(h)}}}},count:function(){return this.__arrPanels.length},
destroy:function(){}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.util.ObjUtil,j=onyx.util.ClassUtil,m=onyx.util.DomUtil,k=onyx.ui.Event,g=onyx.ui.UiUtil;__package("onyx.ui").__class("TabNavButton").__extends(onyx.ui.Box).__methods(function(){function b(f,d){var h=f.__aBtn;if(!h&&d){d=d.text;if(l.isUndef(d))d="";d+="";h=m.create("a",{cssClass:"ui-state-default",text:d,attrs:{href:"javascript:void(0);"}});f.__aBtnClick=k.click(h,function(){if(f.enabled()){var a=f.__click;a&&a(f)}});
f.__aBtn=h}return h}return{__init:function(f){f=f||{};this.__index=f.index;this.__click=l.getFunc(f._click,null);var d=this.box(f);this.__super("__init",arguments,o.merge(f,{box:d}));this.text(f.text)},text:function(f){var d=b(this);if(l.isStr(f)){m.text(d,f);this.__text=f}else return this.__text},index:function(){return this.__index},_index_:function(f){if(l.isNum(f))this.__index=f},actived:function(f){var d=this.__actived;if(l.isBool(f)){if(f!==d){d=b(this);f?j.add(d,"ui-state-active"):j.remove(d,
"ui-state-active");this.__actived=f}}else return d},box:function(f){var d=this.__box;if(!d)this.__box=d=m.create("li",{children:[b(this,f)]});return d},destroy:function(){}}}());var c=onyx.ui.TabNavButton;__package("onyx.ui").__class("TabPanel").__extends(onyx.ui.Panel).__methods(function(){function b(a,n){n=n||{};var r=a.__arrNavBtns,t=r.length,u=n.index;if(l.isNum(u)){if(u<0||u>t)onyx.error("index \u8d85\u51fa\u8303\u56f4")}else u=t;n.index=u;n=new c({text:n.text,index:u,_click:a.__navBtnClick});
if(u==t){m.append(d(a),n.box());r.push(n)}else{a=r[u];m.insertBefore(n.box(),a.box());for(a=u;a<t;a++)r[a]._index_(a+1);p.insert(r,u,n)}return n}function f(a){var n=a.__divNav;if(!n){n=m.create("div",{cssClass:"ui-widget-content oui-tabpanel-nav-outer",children:[d(a)]});a.__divNav=n}return n}function d(a){var n=a.__ulNav;if(!n){n=m.create("ul",{cssClass:"oui-tabpanel-nav"});a.__ulNav=n}return n}function h(a,n){var r=a.__layout;if(!r&&n){(r=m.firstChild(a.box()))||(r=m.create("div"));r=new onyx.ui.CardLayout({box:r,
onShow:n.onShow,onResize:n.onResize});a.__layout=r}return r}return{__init:function(a){a=a||{};if(l.isStr(a))a={box:a};this.__arrNavBtns=[];this.__showIndex=null;this.__onResize=l.getFunc(a.onResize,null);this.__onShow=l.getFunc(a.onShow,null);this.__super("__init",arguments,o.merge(a,{cssClass:q.trimJoin(["ui-widget-content oui-tabpanel",a.cssClass]," ")}));this.box();var n=h(this,a);m.insertBefore(f(this),n.box());var r=this;this.__navBtnClick=function(x){r.show(x.index())};this.resize();n=m.children(n.box());
for(var t=0,u=n.length,v;t<u;t++){v=n[t];a=o.merge(g.elemOpts(v));b(this,a)}this.__arrNavBtns.length>0&&this.show(0)},show:function(a){if(!l.isNum(a))return false;var n=this.__showIndex,r=this.__arrNavBtns;if(a<0||a>=r.length)onyx.error("\u53c2\u6570i\u8d85\u51fa\u8303\u56f4");var t=r[a];if(a!==n){t.actived(true);n!=null&&r[n].actived(false);h(this).show(a);this.__showIndex=a;(n=this.__onShow)&&n.call(this,a)}},showIndex:function(){return this.__showIndex},enabled:function(a,n){if(l.isBool(a)){var r=
this.__arrNavBtns,t=r.length;if(l.isUndef(n))for(n=0;n<t;n++)r[n].enabled(a);else l.isNum(n)&&n>=0&&n<t&&r[n].enabled(a)}},oper:function(a){h(this).oper(a)},resize:function(){var a=h(this);a.height(m.clientHeight(this.box())-m.height(f(this)));var n=this.__onResize;n&&n.call(this,a.showPanel())},destroy:function(){this.__super("destroy",arguments)}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.ArrayUtil,j=onyx.util.DomUtil,m=onyx.ui.Button;__package("onyx.ui").__class("PagingBar").__extends(onyx.ui.Panel).__methods(function(){function k(g,c){var b=new m({text:c.text,activatable:true,actived:q.getBool(c.actived,false),enabled:q.getBool(c.enabled,true),click:function(){g.__btnClick(c.pageNo)}});g.__buttons.push(b);g.append(b)}return{__init:function(g){if(q.isStr(g))g={box:g};g.cssClass=l.trimJoin(["oui-select-none",
"oui-pagingbar",g.cssClass]," ");this.__buttons=[];this.__super("__init",arguments,g);var c=this;p.merge(this,{__buttonsNum:q.getNum(g.buttonsNum,5),__isShowPrevNextButtons:q.getBool(g.isShowPrevNextButtons,true),__isShowLeapButtons:q.getBool(g.isShowLeapButtons,true)});this.pageGoto(g.pageGoto);this.__btnClick=function(b){var f=c.__pageGoto;f&&f(b)};this.setButtons({pageNo:g.pageNo||1,pagesCount:g.pagesCount||1})},pageGoto:function(g){if(q.isFunc(g))this.__pageGoto=g;else return this.__pageGoto},
setButtons:function(g){this.__pageNo=g.pageNo;this.__pagesCount=g.pagesCount;this._clearBtns();this._ctBtns()},_clearBtns:function(){for(var g=this.__buttons,c=g.length-1,b;c>=0;c--){b=g[c];j.remove(b.box());b.destroy();o.remove(g,c)}},_ctBtns:function(){this.box();var g=this.__pageNo,c=this.__pagesCount,b=this.__buttonsNum;if(g<1)throw new Error("\u9875\u7801\u4e0d\u80fd\u5c0f\u4e8e1!");if(g>c)throw new Error("\u9875\u7801\u4e0d\u80fd\u5927\u4e8e\u603b\u9875\u6570!");var f=Math.floor(g-Math.floor(b/
2)),d=0;if(f<2){f=2;if(b%2==0&&g%2==0&&g/2>b/2){f++;d=f+b-1}else d=b}else{b%2==0&&f++;d=f+b-1}if(d>=c){d=c-1;f=d-b+2;if(f<2)f=2}var h=g+b;if(h>c)h=c;var a=g-b;if(a<1)a=1;this.__isShowPrevNextButtons&&k(this,{text:"\u4e0a\u4e00\u9875",enabled:g!=1,pageNo:parseInt(g)-1});if(b>1||g==1)k(this,{text:1,actived:g==1,pageNo:1});this.__isShowLeapButtons&&f>2&&k(this,{text:"...",pageNo:a});for(f=f;f<=d;f++)k(this,{text:f,actived:f==g,pageNo:f});this.__isShowLeapButtons&&d<c-1&&k(this,{text:"...",pageNo:h});
if(b>1&&c>1||g>1&&b==1&&g==c)k(this,{text:c,actived:g==c,pageNo:c});this.__isShowPrevNextButtons&&k(this,{text:"\u4e0b\u4e00\u9875",pageNo:g+1,enabled:g<c})}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil,m=onyx.ui.UiUtil,k=onyx.ui.Event;__package("onyx.ui").__class("PopupPanel").__extends(onyx.ui.Panel).__methods(function(){function g(f,d,h,a){var n=q.getStr(h,f.__position).split(",");if(n.length===2){h=n[0];n=n[1];if(h==="auto")h="alignLeft";if(n==="auto")n="bottom";f={box:f.box(),target:d,pos:j.position(d),rltPos:q.isObj(a)?j.position(a):null};return{left:c[h](f),top:b[n](f)}}else return null}
var c={tgWidth:function(f){return j.width(f.target)},panelWidth:function(f){return j.width(f.box)},alignLeft:function(f){var d=f.pos;return(f=f.rltPos)?d.left-f.left:d.left},left:function(f){return this.alignLeft(f)-this.panelWidth(f)},center:function(f){return this.alignLeft(f)+(this.tgWidth(f)-this.panelWidth(f))/2},right:function(f){return this.alignLeft(f)+this.tgWidth(f)},alignRight:function(f){return this.alignLeft(f)+this.tgWidth(f)-this.panelWidth(f)}},b={tgHeight:function(f){return j.height(f.target)},
panelHeight:function(f){return j.height(f.box)},alignTop:function(f){var d=f.pos;return(f=f.rltPos)?d.top-f.top:d.top},top:function(f){return this.alignTop(f)-this.panelHeight(f)},middle:function(f){return this.alignTop(f)+(this.tgHeight(f)-this.panelHeight(f))/2},bottom:function(f){return this.alignTop(f)+this.tgHeight(f)},alignBottom:function(f){return this.alignTop(f)+this.tgHeight(f)-this.panelHeight(f)}};return{__init:function(f){f=f||{};if(q.isStr(f))f={box:f};f=p.merge(m.elemOpts(f.box),f);
var d=this.box(f);this.__super("__init",arguments,p.merge(f,{box:d}));this.__position=f.position||"auto,auto";this.__beforeShow=q.getFunc(f.beforeShow,null);this.__onShow=q.getFunc(f.onShow,null);this.__onHide=q.getFunc(f.onHide,null);this.autoHide(q.getBool(f.autoHide,true));var h=this,a=onyx.Dom.doc(),n=false;this.__boxMousedown=k.mousedown(d,function(){if(h.autoHide())n=true});this.__docMousedown=k.mousedown(a,function(){if(h.autoHide()){n===false&&h.visibled()&&h.hide();n=false}});this.maxZIndex()},
box:function(f){var d=this.__box;if(!d&&f){d=f.box;if(q.isUndef(d)){d=j.create("div");j.append(onyx.Dom.body(),d)}else d=j.get(d);o.add(d,l.trimJoin(["oui-popuppanel",f.cssClass]," "));this.__box=d}return d},show:function(f){var d=this.box();this.tran(true);this.visibled(true);var h=this.__beforeShow;if(h&&h()===false){this.visibled(false);this.tran(false);return false}h=g(this,f.target,f.position,f.relative);var a=q.isNum(f.offsetLeft)?f.offsetLeft:0;f=q.isNum(f.offsetTop)?f.offsetTop:0;this.left(h.left+
a);this.top(h.top+f);o.add(d,"oui-popuppanel-show");this.tran(false);(h=this.__onShow)&&h()},hide:function(){var f=this.__onHide;f&&f();this.visibled(false)},autoHide:function(f){var d=this.__autoHide;if(q.isBool(f)){if(f!==d)this.__autoHide=f}else return d},visibled:function(f){var d=this.__super("visibled",arguments,f);if(f===false){var h=this.box();o.remove(h,"oui-popuppanel-show")}return d},maxZIndex:function(){m.maxZIndex(this.box())},destroy:function(){this.__boxMousedown.destroy();this.__docMousedown.destroy();
delete this.__boxMousedown;delete this.__docMousedown;delete this.__onShow;delete this.__onHide;delete this.__beforeShow;delete this.__position;this.__super("destroy",arguments)}}}())})();
(function(){var q=onyx.Browser,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.CssUtil,j=onyx.util.ClassUtil,m=onyx.util.ObjUtil,k=onyx.util.DomUtil,g=onyx.ui.Event;__package("onyx.ui").__class("Tips").__extends(onyx.ui.PopupPanel).__methods(function(){function c(a){var n=a.__divTria;if(!n){n=k.create("div",{cssClass:"oui-tips-tria"});a.__divTria=n}return n}function b(a){var n=a.__divTriaOuter;if(!n){n=k.create("div",{cssClass:"oui-tips-tria-outer",children:[c(a)]});a.__divTriaOuter=n}return n}
function f(a){var n=a.__divMsg;if(!n){n=k.create("div",{cssClass:"oui-tips-msg"});a.__divMsg=n}return n}function d(a){var n=c(a);a=k.clientHeight(b(a));var r=k.height(n);o.set(n,{"margin-top":(a-r)/2+"px"})}function h(a){var n=a.box();k.append(n,b(a));k.append(n,f(a))}return{__init:function(a){if(l.isStr(a))a={box:a};var n=a.tipsPos||"bottom",r;switch(n){case "bottom":r="center,bottom";break;case "top":r="center,top";break;case "left":r="left,middle";break;case "right":r="right,middle";break}var t=
this,u=q.isIE_6_7();a=m.merge(a,{position:r,cssClass:p.trimJoin(["oui-select-none","oui-tips",a.cssClass]," "),beforeShow:function(){if(u){var v=t.box();o.set(v,"width","auto");j.add(v,"oui-tips-ie-resizing");d(t);k.width(v,k.width(v));j.remove(v,"oui-tips-ie-resizing")}else d(t)},onShow:function(){j.add(t.box(),"oui-tips-show")},onHide:function(){j.remove(t.box(),"oui-tips-show")}});this.__super("__init",arguments,a);h(this,a);this.target(a.target);this.html(a.html);this.tipsType(a.tipsType||"highlight");
this.tipsPos(n);this.visibled(false)},tipsPos:function(a){var n=this.__tipsPos;if(l.isStr(a)){if(a!==n){var r=this.box(),t=c(this),u=b(this),v=f(this);n&&j.remove(r,"oui-tips-"+n);j.add(r,"oui-tips-"+a);if(a==="left"||a==="right")k.height(u,k.height(v));else{o.set(u,{height:"auto",clear:"both"});o.set(v,{clear:"both"})}switch(a){case "bottom":k.insertBefore(u,v);j.add(t,"oui-triangle-top");break;case "top":k.append(r,u);j.add(t,"oui-triangle-bottom");break;case "left":k.append(r,u);j.add(t,"oui-triangle-right");
break;case "right":k.insertBefore(u,v);j.add(t,"oui-triangle-left");break}this.__tipsPos=a}}else return n},target:function(a){if(a){var n=this;a=a.box?a.box():a;var r=this.__targetMouseOver;if(!r)this.__targetMouseOver=r=g.mouseover(a,function(){var t=n.target();n.show({target:t})});r=this.__targetMouseOut;if(!r)this.__targetMouseOut=r=g.mouseout(a,function(){n.hide()});this.__target=a}else return this.__target},html:function(a){if(l.isStr(a))k.html(f(this),a===""?"&nbsp;":a)},tipsType:function(a){if(l.isStr(a)){this.box();
var n=this.__tipsType,r=[f(this),c(this)];if(n)for(var t=0,u=r.length;t<u;t++)j.remove(r[t],"ui-state-"+n);t=0;for(u=r.length;t<u;t++)j.add(r[t],"ui-state-"+a);this.__tipsType=a}else return this.__tipsType},width:function(){},height:function(){},destroy:function(){var a=[this.__targetMouseOver,this.__targetMouseOut],n=0;for(n=a.length;n<len;n++)(ev=a[n])&&ev.destroy();delete this.__targetMouseOver;delete this.__targetMouseOut;delete this.__target;delete this.__tipsType;delete this.__tipsPos;delete this.__divTriaOuter;
delete this.__divTria;delete this.__divMsg;this.__super("destroy",arguments)}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil,p=onyx.util.CssUtil,o=onyx.util.ClassUtil,j=onyx.util.DomUtil,m=onyx.ui.Event,k=onyx.ui.UiUtil;__package("onyx.ui").__class("SelectItem").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(g){if(q.isStr(g))g={box:g};var c=this.box(g);g=l.merge(k.elemOpts(c),g);this.__super("__init",arguments,l.merge(g,{box:c}));var b=this,f=g.select;if(!(f instanceof onyx.ui.Select))throw new Error("\u53c2\u6570select\u9519\u8bef");
this.__select=f;this.text(g.text);this.value(g.value);this.data(g.data);this.ico(g.ico);this.icoClass(g.icoClass);this.__onSelect=g.onSelect;this._initUI(g);this.__boxMouseover=m.mouseover(c,function(){o.add(c,"ui-state-hover")});this.__boxMouseout=m.mouseout(c,function(){o.remove(c,"ui-state-hover")});this.__boxClick=m.click(c,function(){b.__onSelect(b)})},_initUI:function(g){var c=this.box();j.set(c,{cssClass:"oui-select-none oui-selectitem"+(g.cssClass?" "+g.cssClass:"")});this.select().isShowIco()&&
j.append(c,this._spanIco());j.append(c,this._spanTxt())},_spanIco:function(){var g=this.__spanIco;if(!g)this.__spanIco=g=j.create("span",{cssClass:"oui-selectitem-ico"});return g},_spanTxt:function(){var g=this.__spanTxt;if(!g)this.__spanTxt=g=j.create("span",{cssClass:"oui-selectitem-txt"});return g},box:function(){var g=this.__box;if(!g)this.__box=g=j.create("div");return g},select:function(){return this.__select},text:function(g){if(q.isUndef(g))return this.__text||"";else{j.text(this._spanTxt(),
g+"");this.__text=g;return this}},ico:function(g){q.isStr(g)&&this.select().isShowIco()&&p.set(this._spanIco(),"background-image","url("+g+")")},icoClass:function(g){if(q.isStr(g)){if(this.select().isShowIco()){var c=this._spanIco(),b=this.__icoClass;b||o.remove(c,b);o.add(c,g)}this.__icoClass=g}else return this.__icoClass},value:function(g){if(q.isUndefOrNull(g))return this.__value;else this.__value=g},data:function(g){if(q.isUndef(g))return this.__data;else this.__data=g},destroy:function(){j.remove(this.box())}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.Browser,p=onyx.util.TypeUtil,o=onyx.util.DomUtil,j=onyx.util.ArrayUtil,m=onyx.util.CssUtil,k=onyx.util.ClassUtil,g=onyx.util.ObjUtil,c=onyx.util.StrUtil,b=onyx.ui.UiUtil,f=onyx.ui.PopupPanel,d=onyx.ui.SelectItem,h=onyx.ui.Event;__package("onyx.ui").__class("Select").__extends(onyx.ui.TextBox).__methods(function(){function a(v){var x=v.__ppItems;if(!x){x=new f({cssClass:"ui-widget-content oui-select-dropdown"});v.__ppItems=x}return x}function n(v,x){var z=v.__selectedItem;
if(!z||z!==x){z&&z.actived(false);v.input().value=x.text();x.actived(true);v.__selectedItem=x;(z=v.__change)&&z.call(v,x)}}function r(v){var x=a(v),z=x.height();v=v.__itemsMaxHeight;if(z>v){x.height(v);return true}return false}function t(v,x,z){z.select=v;z.onSelect=v.__fnOnItemSelect;z=new d(z);o.append(x,z.box());x=z.value();var C=z.value();v.__htValueItems.set(x,z);v.__htNameItems.set(C,z);v.__items.push(z)}function u(v){var x=v.__divTriangle;if(!x){x=o.create("div",{cssClass:"ui-icon ui-icon-triangle-1-s triangle"});
v.__divTriangle=x}return x}return{__init:function(v){v=v||{};if(p.isStr(v))v={box:v};var x=this.box(v);v=g.merge(b.elemOpts(x),v);v=g.merge(v,{cssClass:c.trimJoin(["oui-select",v.cssClass]," ")});this.__super("__init",arguments,v);this.__isShowIco=p.getBool(v.isShowIco,false);this.__autoWidth=p.getBool(v.autoWidth,true);this.__change=p.getFunc(v.change,null);this.__resized=false;this.__itemsMaxHeight=v.itemsMaxHeight||160;this.__htValueItems=new q;this.__htNameItems=new q;this.__items=[];this.__selectedItem=
null;o.insertAfter(u(this),this.input());var z=this;this.__fnOnItemSelect=function(C){n(z,C);z.close()};this.__winResize=h.resize(onyx.Window.get(),function(){});this.__boxClick=h.click(x,function(){z.open()});this.readonly(true);this.resize()},open:function(){if(!this.enabled())return false;var v=a(this);this.resize();v.show({target:this.box()});v.maxZIndex()},close:function(){a(this).hide()},visibled:function(v){v===true&&!this.visibled()&&this.resize();return this.__super("visibled",arguments,
v)},items:function(){return this.__items},count:function(){return this.__items.length},clearItems:function(){var v=this.__items;this.selectNone();for(var x=0,z=v.length,C;x<z;x++){C=v[x];C.destroy()}this.__htValueItems.clear();this.__htNameItems.clear();j.clear(v);this.__selectedItem=null},addItems:function(v){for(var x=o.fragment(),z=0,C=v.length;z<C;z++)t(this,x,v[z]);a(this).append(x);this.__resized=false;this.resize()},removeItem:function(v){var x=this.__items[v];if(x){x==this.selectedItem()&&
this.selectNone();x.destroy();j.remove(this.__items,v);this.__htValueItems.remove(x.value());this.__htNameItems.remove(x.text())}},addItem:function(v){t(this,a(this).box(),v);this.__resized=false},itemByVal:function(v){return this.__htValueItems.get(v)},isShowIco:function(){return this.__isShowIco},resize:function(){var v=a(this),x=v.box(),z=this.width(),C=l.isIE_6_7();if(z==0)return false;v.tran(true);v.visibled(true);m.set(x,{width:"auto",height:"auto"});C&&k.add(x,"oui-select-dd-item-fl");var F=
r(this);ppBoxWidth=o.width(x);if(this.__autoWidth&&F&&!l.isIE8())ppBoxWidth+=17;if(ppBoxWidth<z)ppBoxWidth=z;this.__autoWidth&&z<ppBoxWidth&&this.width(ppBoxWidth);v.width(ppBoxWidth);C&&k.remove(x,"oui-select-dd-item-fl");x=o.clientWidth(this.box());if(z=this.__spanLico)x-=o.outerWidth(z);if(z=this.__spanRico)x-=o.outerWidth(z);x-=o.outerWidth(u(this));o.outerWidth(this.input(),x);v.tran(false);v.visibled(false);this.__resized=true},selectedItem:function(){return this.__selectedItem},value:function(v){var x=
this.selectedItem();if(p.isUndef(v))return x?x.value():null;else(v=this.__htValueItems.get(v))?n(this,v):this.selectNone()},text:function(){var v=this.selectedItem();return v?v.text():""},data:function(){var v=this.selectedItem();return v?v.data():null},selectNone:function(){var v=this.selectedItem();if(v){v.actived(false);this.input().value="";this.__selectedItem=null;(v=this.__change)&&v.call(this,null)}},destroy:function(){}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil,p=onyx.util.ClassUtil,o=onyx.util.DomUtil,j=onyx.ui.Event,m=onyx.ui.Box;__package("onyx.ui").__class("Radio").__extends(m).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(k){if(q.isStr(k))k={box:k};var g=q.isStr(k.box)?o.byId(k.box):this.box();k.box=g;k=l.merge(m.elemOpts(g),k);this.__super("__init",arguments,k);this.__checked=false;this.__fnOnRadioCheckedChanged=k._onRadioCheckedChanged;this._initUI(k);var c=this;this.__boxClick=
j.click(g,function(){c.checked()||c.checked(true)})},_initUI:function(k){var g=this.box();p.add(g,"oui-select-none oui-radio"+(k.cssClass?" "+k.cssClass:""));this.__id=m.getId(g);g=this.box();o.append(g,this._icoChecked());o.append(g,this._label());this.text(k.text);this.value(k.value);k=k.checked;if(q.isStr(k))k=k==="true";this.checked(k)},box:function(){var k=this.__box;if(!k)this.__box=k=o.create("div");return k},_icoChecked:function(){var k=this.__icoChecked;if(!k)this.__icoChecked=k=o.create("span",
{cssClass:"ui-icon ui-icon-radio-on oui-radio-checkedico"});return k},_label:function(){var k=this.__label;if(!k)this.__label=k=o.create("label",{cssClass:"oui-radio-label"});return k},text:function(k){if(q.isStr(k)){o.html(this._label(),k);this.__text=k}else return this.__text||""},value:function(k){if(q.isUndef(k))return this.__value||null;else this.__value=k},checked:function(k){if(q.isBool(k)){var g=this._icoChecked();if(k!==this.__checked){if(k){p.add(g,"ui-icon-bullet");p.remove(g,"ui-icon-radio-on")}else{p.add(g,
"ui-icon-radio-on");p.remove(g,"ui-icon-bullet")}this.__checked=k;(k=this.__fnOnRadioCheckedChanged)&&k(this)}}else return this.__checked},destroy:function(){}}}())})();
(function(){var q=onyx.Dom,l=onyx.Hashtable,p=onyx.util.TypeUtil,o=onyx.util.ObjUtil,j=onyx.util.ArrayUtil,m=onyx.util.ClassUtil,k=onyx.util.DomUtil,g=onyx.ui.Box,c=onyx.ui.Radio;__package("onyx.ui").__class("RadioGroup").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(b){if(p.isStr(b))b={box:b};var f=p.isStr(b.box)?k.byId(b.box):this.box();b.box=f;b=o.merge(g.elemOpts(f),b);this.__super("__init",arguments,b);this._initUI(b);this.__checkedRadio=null;this.__radios=
[];this.__htRadios=new l;var d=this;this.__funcOnRadioCheckedChanged=function(r){if(r.checked()){var t=d.checkedRadio();t&&t.checked(false);d.__checkedRadio=r}else d.__checkedRadio=null};f=k.children(f);for(var h=0,a=f.length,n;h<a;h++){n=f[h];this._addRadio({box:n})}},_initUI:function(b){var f=this.box();m.add(f,"oui-radiogroup"+(b.cssClass?" "+b.cssClass:""))},box:function(){var b=this.__box;if(!b)this.__box=b=k.create("div");return b},clearItems:function(){for(var b=this.__radios,f=b.length-1,
d;f>=0;f--){d=b[f];k.remove(d.box());d.destroy()}this.__htRadios.clear();j.clear(b);this.__checkedRadio=null},addItems:function(b){var f=q.doc().createDocumentFragment(),d=b.items,h=b.textProp||"text";b=b.valueProp||"value";for(var a=d.length-1;a>=0;a--){item=d[a];this._addItem(f,{text:item[h],value:item[b]})}k.append(this.box(),f)},_addItem:function(b,f){f=o.merge(f,{_radioGroup:this,_onRadioCheckedChanged:this.__funcOnRadioCheckedChanged});f=new c(f);k.append(b,f.box());this.__radios.push(f);this.__htRadios.set(f.value(),
f);return f},checkedRadio:function(){return this.__checkedRadio},checkNone:function(){var b=this.checkedRadio();b&&b.checked(false)},value:function(b){var f=this.checkedRadio();if(p.isUndef(b))return f?f.value():null;else(b=this.__htRadios.get(b))?b.checked(true):f.checked(false)},data:function(){var b=this.checkedRadio();return b?b.data():null},destroy:function(){delete this.__box;delete this.__id}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil,p=onyx.util.ClassUtil,o=onyx.util.DomUtil,j=onyx.ui.Event,m=onyx.ui.UiUtil;__package("onyx.ui").__class("Check").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(k){if(q.isStr(k))k={box:k};var g=q.isStr(k.box)?o.byId(k.box):this.box();k=l.merge(m.elemOpts(g),k);this.__super("__init",arguments,{box:g,data:k.data});this.__checked=false;this.__change=q.getFunc(k.change,null);this.__fnOnItemCheckedChanged=
k._onItemCheckedChanged;this._initUI(k)},_initUI:function(k){var g=this.box();p.add(g,"oui-select-none oui-check"+(k.cssClass?" "+k.cssClass:""));g=this.box();o.append(g,this._icoChecked());o.append(g,this._label());this.text(k.text);this.value(k.value);k=k.checked;if(q.isStr(k))k=k==="true";this.checked(k);var c=this;this.__boxClick=j.click(g,function(){c.checked(!c.checked())})},box:function(){var k=this.__box;if(!k)this.__box=k=o.create("div");return k},_icoChecked:function(){var k=this.__icoChecked;
if(!k)this.__icoChecked=k=o.create("span",{cssClass:"ui-icon ui-icon-circlesmall-close oui-check-checkedico"});return k},_label:function(){var k=this.__label;if(!k)this.__label=k=o.create("label",{cssClass:"oui-check-label"});return k},text:function(k){if(q.isStr(k)){o.html(this._label(),k);this.__text=k}else return this.__text||""},value:function(k){if(q.isUndef(k))return this.__value;else this.__value=k},checked:function(k){if(q.isBool(k)){var g=this._icoChecked();if(k!=this.__checked){if(k){p.add(g,
"ui-icon-check");p.remove(g,"ui-icon-circlesmall-close")}else{p.add(g,"ui-icon-circlesmall-close");p.remove(g,"ui-icon-check")}this.__checked=k;(g=this.__change)&&g(this,k);(k=this.__fnOnItemCheckedChanged)&&k(this)}}else return this.__checked},destroy:function(){}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ObjUtil,j=onyx.util.ArrayUtil,m=onyx.util.ClassUtil,k=onyx.util.DomUtil,g=onyx.ui.UiUtil,c=onyx.ui.Check;__package("onyx.ui").__class("CheckGroup").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(b){if(l.isStr(b))b={box:b};var f=this.box(b);b=o.merge(b||g.elemOpts(f),b);b.box=f;this.__items=[];this.__htItems=new q;this.__htCheckedItems=new q;this.__itemsCheckedChanged=
l.getFunc(b.itemsCheckedChanged,null);this.__super("__init",arguments,b);var d=this;this.__funcOnItemCheckedChanged=function(r,t){t=r.checked();var u=d.__htCheckedItems,v=r.id();if(t)u.contains(v)||u.put(v,r);else u.contains(v)&&u.remove(v);(u=d.__itemsCheckedChanged)&&u.call(d,r,t)};f=k.children(f);for(var h=0,a=f.length,n;h<a;h++){n=f[h];this._addRadio({box:n})}},box:function(b){var f=this.__box;if(!f){f=b.box;f=l.isUndef(f)?k.create("div"):k.get(f);m.add(f,p.trimJoin(["oui-checkgroup",b.cssClass],
" "));this.__box=f}return f},checkNone:function(){for(var b=this.checkedItems(),f=b.length-1,d;f>=0;f--){d=b[f];d.checked(false)}},clearItems:function(){this.checkNone();for(var b=this.__items,f=b.length-1,d;f>=0;f--){d=b[f];k.remove(d.box());d.destroy()}this.__htItems.clear();j.clear(b)},addItems:function(b){var f=k.fragment(),d=b.items,h=b.textProp||"text";b=b.valueProp||"value";for(var a=0,n=d.length,r;a<n;a++){r=d[a];this._addItem(f,{text:r[h],value:r[b]})}k.append(this.box(),f)},_addItem:function(b,
f){f=o.merge(f,{_checkGroup:this,_onItemCheckedChanged:this.__funcOnItemCheckedChanged});f=new c(f);k.append(b,f.box());this.__items.push(f);this.__htItems.set(f.value(),f);return f},checkedItems:function(){return this.__htCheckedItems.valArray()},checkNone:function(){for(var b=this.__items,f=0,d=b.length,h;f<d;f++){h=b[f];h.checked()&&h.checked(false)}},checked:function(b,f){if(b=this.__htItems.get(b))if(l.isBool(f))b.checked(f);else return b.checked()},value:function(b){if(l.isUndef(b)){b=[];for(var f=
this.__items,d=0,h=f.length,a;d<h;d++){a=f[d];a.checked()&&b.push(a.value())}return b}else{this.checkNone();f=this.__htItems;d=0;for(h=b.length;d<h;d++)(a=f.get(b[d]))&&a.checked(true)}},data:function(){var b=[];this.__htCheckedItems.each(function(f){b.push(f.data())});return b},destroy:function(){delete this.__box;delete this.__id}}}())})();
(function(){var q=onyx.Dom,l=onyx.Hashtable,p=onyx.Browser,o=onyx.util.TypeUtil,j=onyx.util.StrUtil,m=onyx.util.ObjUtil,k=onyx.util.ClassUtil,g=onyx.util.CssUtil,c=onyx.util.DomUtil,b=onyx.ui.UiUtil,f=onyx.ui.Event,d=onyx.ui.Button;__package("onyx.ui").__class("Dialog").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__implements(onyx.ui.IContainer).__static(function(){return{msg:function(h){var a=arguments[0];if(arguments.length==1&&o.isStr(a))h={title:"\u6d88\u606f",text:a};else if(arguments.length>
1)h={title:arguments[1],text:a};h=h||{};a=h.text;o.isStr(a)||(a="");a=c.create("div",{cssClass:"oui-dialog-message",text:a});var n=[{text:"\u786e\u5b9a",click:function(){var u=h.ok;if(o.isFunc(u))u()!==false&&t.close();else t.close()}}],r=h.cancel;if(o.isFunc(r)||r===true)n.push({text:"\u53d6\u6d88",click:function(){if(o.isFunc(r))r()!==false&&t.close();else t.close()}});var t=new onyx.ui.Dialog({title:h.title||"\u4fe1\u606f",width:280,height:120,buttons:n});c.append(t.contentDiv(),a);t.show({isModal:true});
return t}}}()).__methods(function(){function h(w){var y=onyx.Dom.scrollTop(),G=onyx.Dom.scrollLeft();w=L(w);g.top(w,y);g.left(w,G)}function a(w){var y=w.contentDiv();w.contResize({height:y.scrollHeight,width:y.scrollWidth})}function n(w,y){var G=w.box(y),K=I(w),M=B(w),O=w.contentDiv(),N=y.content;if(o.isObj(N))try{c.append(O,N)}catch(R){}c.insertBefore(M,O);w.__dodHead=new onyx.ui.DragAndDrop({elem:K,avtElem:M});K=w.__htButtons;w=D(w);y=y.buttons||[];for(M=y.length-1;M>=0;M--){N=y[M];O=N.name;N=new d(N);
o.isStr(O)&&K.set(O,N);c.append(w,N.box())}c.append(G,w)}function r(w){var y=w.box(),G=x(w),K=w.__divYyTc,M=w.__divYyLm,O=w.__divYyRm,N=w.__divYyBc;if(!K){K=c.byClass(G,"oui-dlg-yy-tc")[0];w.__divYyTc=K}if(!M){M=c.byClass(G,"oui-dlg-yy-lm")[0];w.__divYyLm=M}if(!O){O=c.byClass(G,"oui-dlg-yy-rm")[0];w.__divYyRm=O}if(!N){N=c.byClass(G,"oui-dlg-yy-bc")[0];w.__divYyBc=N}G=c.width(y);y=c.height(y);c.width(K,G-12);c.height(M,y-10);c.height(O,y-10);c.width(N,G-12);c.width(E(w),G+10)}function t(w){var y=w.__iframe;
if(!y){y=c.createIframe();w.contentDiv().appendChild(y);c.iframeAutoSize(y,function(G){w.__autoSize&&G?w.contResize({width:c.width(y),height:c.height(y)}):g.set(y,{width:"100%",height:"100%"})});w.__iframe=y}return y}function u(w,y){if(o.isNum(y))w.__width=y}function v(w,y){if(o.isNum(y))w.__height=y}function x(w){var y=w.__divYY;if(!y){y=c.create("div");w.__divYY=y}return y}function z(w){var y=w.__yyTop;if(!y){y=c.create("div",{cssClass:"oui-dlg-yy-top",children:[{tag:"div",cssClass:"oui-dlg-yy-tl-1"},
{tag:"div",cssClass:"oui-dlg-yy-tl-2"},{tag:"div",cssClass:"oui-dlg-yy-tc"},{tag:"div",cssClass:"oui-dlg-yy-tr-1"},{tag:"div",cssClass:"oui-dlg-yy-tr-2"}]});w.__yyTop=y}return y}function C(w){var y=w.__yyLeft;if(!y){y=c.create("div",{cssClass:"oui-dlg-yy-left",children:[{tag:"div",cssClass:"oui-dlg-yy-lt"},{tag:"div",cssClass:"oui-dlg-yy-lm"},{tag:"div",cssClass:"oui-dlg-yy-lb"}]});w.__yyLeft=y}return y}function F(w){var y=w.__yyRight;if(!y){y=c.create("div",{cssClass:"oui-dlg-yy-right",children:[{tag:"div",
cssClass:"oui-dlg-yy-rt"},{tag:"div",cssClass:"oui-dlg-yy-rm"},{tag:"div",cssClass:"oui-dlg-yy-rb"}]});w.__yyRight=y}return y}function E(w){var y=w.__yyBottom;if(!y){y=c.create("div",{cssClass:"oui-dlg-yy-bottom",children:[{tag:"div",cssClass:"oui-dlg-yy-bl-1"},{tag:"div",cssClass:"oui-dlg-yy-bl-2"},{tag:"div",cssClass:"oui-dlg-yy-bc"},{tag:"div",cssClass:"oui-dlg-yy-br-1"},{tag:"div",cssClass:"oui-dlg-yy-br-2"}]});w.__yyBottom=y}return y}function I(w){var y=w.__divOuter;if(!y){var G=w.box();if(p.isIE()){y=
x(w);c.append(y,z(w));c.append(y,C(w));c.append(y,G);c.append(y,F(w));c.append(y,E(w));c.append(q.body(),y);k.add(G,"oui-dlg-yy-center")}else y=G;k.add(y,"oui-dialog-outer");g.display(y,"none");w.__divOuter=y}return y}function P(w){var y=w.__spanIco;if(!y){y=c.create("span",{cssClass:"oui-dialog-ico"});w.__spanIco=y}return y}function Q(w){var y=w.__spanTitle;if(!y){y=c.create("span",{cssClass:"oui-dialog-title"});w.__spanTitle=y}return y}function A(w){var y=w.__btnClose;if(!y){y=new d({cssClass:"oui-dialog-btnclose",
lico:"ui-icon-closethick",click:function(){w.close()}});k.remove(y.box(),"ui-state-default");w.__btnClose=y}return y}function B(w){var y=w.__divHead;if(!y){y=c.create("div",{cssClass:"oui-dialog-head",children:[{tag:"div",cssClass:"ui-widget-content oui-dialog-head-inner",children:[P(w),Q(w),A(w).box()]}]});w.__divHead=y}return y}function D(w){var y=w.__divBottom;if(!y){y=c.create("div",{cssClass:"ui-widget-content oui-dialog-bottom"});w.__divBottom=y}return y}function L(w){var y=w.__divOverlay;if(!y){y=
c.create("div",{cssClass:"ui-widget-overlay"});c.append(q.body(),y);w.__divOverlay=y}return y}function H(w){var y=onyx.Dom.body(),G=onyx.Dom.scrollLeft(),K=c.width(w.box());y=G+parseInt((y.offsetWidth-K)/2);w.left(y)}function J(w){var y=onyx.Dom.body();y=onyx.Dom.scrollTop()+parseInt((y.offsetHeight-w.height())/2);w.top(y)}return{__init:function(w){if(o.isStr(w))w={box:w};this.__dialogType=o.getStr(w.dialogType,"normal");var y=this.box(w);w=m.merge(b.elemOpts(y),w);this.__htButtons=new l;n(this,w);
this.__super("__init",arguments,{box:y});this.__urlChanged=false;this.__autoSize=o.getBool(w.autoSize,false);this.__iframeLoad=o.getFunc(w.iframeLoad,null);this.url(w.url);this.__onClose=o.getFunc(w.onClose,null);this.__onHide=o.getFunc(w.onHide,null);u(this,w.width);v(this,w.height);this.__initTop=y=w.top;this.top(y);this.__initLeft=y=w.left;this.left(y);this.showCloseButton(w.showCloseButton);this.icon(w.icon);this.title(w.title||"");this.drag(w.drag);var G=this;this.__winScroll=f.scroll(onyx.Window.get(),
function(){h(G)});this.__winScroll.enabled(false)},box:function(w){var y=this.__box;if(!y){if(!w)throw new Error("\u53c2\u6570o\u9519\u8bef");y=w.box;if(o.isUndef(w.box)){y=c.create("div");c.append(q.body(),y)}else y=c.get(y);if(!y)throw new Error("\u53c2\u6570\u9879 box \u9519\u8bef");k.add(y,j.trimJoin(["ui-widget-content oui-dialog oui-dialog-"+this.__dialogType,w.cssClass]," "));this.__box=y}return y},dialogType:function(){return this.__dialogType},autoSize:function(){return this.__autoSize},
show:function(w){w=w||{};var y=I(this);if(o.getBool(w.isModal,false)){w=L(this);h(this);b.maxZIndex(w);g.display(w,"")}b.maxZIndex(y);g.opacity(y,0);g.display(y,"");this.autoSize()?a(this):this.resize();g.opacity(y,1);this.resetPosition();this.__winScroll.enabled(true);if(this.__urlChanged){var G=t(this);c.attrs(G,{src:this.url()});var K=this.__iframeLoad;if(K){this.__evIframeLoad&&this.__evIframeLoad.destroy();var M=this;this.__evIframeLoad=f.load(G,function(){K.call(M,G)})}this.__urlChanged=false}},
url:function(w){if(o.isStr(w)){this.__url=w;this.__urlChanged=true}else return this.__url},isShow:function(){return g.display(I(this))!=="none"},hide:function(){var w=I(this),y=L(this),G=c.position(I(this));this.top(G.top);this.left(G.left);g.display(y,"none");g.display(w,"none");this.__winScroll.enabled(false);(w=this.__onHide)&&w()},drag:function(w){var y=this.__drag;if(o.isBool(w)){if(w!==y){this.__dodHead.enabled(w);this.__drag=w}}else return y},close:function(){var w=this.__onClose;if(w)if(w.call(this)===
false)return false;this.hide();this.destroy()},resize:function(w){if(o.isObj(w)){u(this,w.width);v(this,w.height)}if(!this.isShow())return false;var y=this.box();w=c.height(B(this));var G=c.height(D(this));c.height(y,this.height());c.width(y,this.width());y=c.clientHeight(y);var K=this.contentDiv();c.height(K,y-w-G);p.isIE()&&r(this)},contResize:function(w){if(o.isObj(w)){var y=this.contentDiv();o.isNum(w.width)&&c.clientWidth(y,w.width);o.isNum(w.height)&&c.clientHeight(y,w.height)}w=this.box();
var G=c.outerHeight(B(this)),K=c.outerHeight(D(this)),M=c.outerWidth(y);y=c.outerHeight(y);c.clientWidth(w,M);c.clientHeight(w,G+y+K);p.isIE()&&r(this)},button:function(w){return this.__htButtons.get(w)},btnEnabled:function(w){o.isBool(w)&&this.__htButtons.each(function(y){y.enabled(w)})},resetPosition:function(){var w=I(this),y=this.__initLeft;o.isNum(this.__initTop)||J(this);o.isNum(y)||H(this);g.top(w,this.top());g.left(w,this.left())},middle:function(){H(this);J(this)},contentDiv:function(){var w=
this.__contentDiv;if(!w){var y=this.box();w=c.byClass(y,"oui-dialog-content")[0];if(!w){w=c.create("div",{cssClass:"oui-dialog-content"});c.append(y,w)}this.__contentDiv=w}return w},url:function(w){if(o.isStr(w)){this.__url=w;this.__urlChanged=true}else return this.__url},width:function(){return this.__width},height:function(){return this.__height},showCloseButton:function(w){o.isBool(w)&&A(this).visibled(w)},title:function(w){if(o.isStr(w)){c.html(Q(this),w===""?"&nbsp;":w);this.__title=w}else return this.__title},
icon:function(w){if(o.isStr(w))g.set(P(this),{"background-image":"url("+w+")",display:w===""?"none":"block"})},button:function(w){return this.__htButtons.get(w)},append:function(w){c.append(this.box(),w.box?w.box():w)},destroy:function(){c.remove(this.box());c.remove(L(this));delete this.__box;delete this.__divOverlay}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil;q=onyx.util.TypeUtil;var p=onyx.util.DomUtil,o=onyx.ui.Select,j=onyx.ui.Label;__package("onyx.ui").__class("TimeSelector").__methods(function(){function m(d){var h=d.__selHour;if(!h){h=c(d,23);h.value("00");d.__selHour=h}return h}function k(d){var h=d.__selMinute;if(!h){h=c(d,59);h.value("00");d.__selMinute=h}return h}function g(d){var h=d.__selSecond;if(!h){h=c(d,59);h.value("00");d.__selSecond=h}return h}function c(d,h){for(var a=new o({width:40,
change:function(){var t=d.__change;t&&t()}}),n=0;n<=h;n++){var r=n<10?"0"+n:n+"";a.addItem({text:r,value:r})}return a}function b(){return new j({text:":"})}function f(d,h){var a=d.length;if(a!=1||a!=2)return false;if(d.substr(0,1)=="0")d=d.substr(1);d=parseInt(d);if(!q.isNum(d))return false;if(d<0||d>h)return false;return true}return{__init:function(d){d=d||{};this.box(d);this.resize();this.__change=q.getFunc(d.change,null)},box:function(d){if(q.isUndef(d))return this.__box;else{var h=d.box;h=q.isUndef(h)?
p.create("div"):p.get(h);p.set(h,{cssClass:l.trimJoin(["oui-timeselector",d.cssClass],","),children:[m(this).box(),b().box(),k(this).box(),b().box(),g(this).box()]});this.__box=h}},resize:function(){m(this).resize();k(this).resize();g(this).resize()},value:function(d){if(q.isUndef(d))return m(this).value()+":"+k(this).value()+":"+g(this).value();else{if(d===null)d="00:00:00";if(q.isStr(d)){d=d.split(":");var h=d.length;if(h!=2&&h!=3){onyx.error("\u8f93\u5165\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e");
return false}h==2&&d.push("00");for(h=0;h<=2;h++){var a=d[h];if(h==0&&f(a,60)||h>1&&f(a,24)){onyx.error("\u8f93\u5165\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e");return false}if(a.length==1)d[h]="0"+a}m(this).value(d[0]);k(this).value(d[1]);g(this).value(d[2])}}}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ObjUtil,j=onyx.util.ClassUtil,m=onyx.util.EventUtil,k=onyx.util.DomUtil,g=onyx.util.DateUtil,c=onyx.ui.Event,b=onyx.ui.Button,f=onyx.ui.TextBox;__package("onyx.ui").__class("Datepicker").__extends(onyx.ui.TextBox).__methods(function(){function d(A,B){if(l.isNum(B)){var D=A.__htDaySpans,L=D.get(B+"");D=D.get(A.day()+"");if(L){D&&j.remove(D,I);j.add(L,I)}A.__day=B}}function h(A){var B=A.__ppCalendar;if(!B){B=new onyx.ui.PopupPanel({cssClass:"ui-widget-content oui-datepicker-calendar",
onShow:function(){r(A).resize();t(A).resize()}});B.append(u(A));B.append(v(A));B.append(x(A));A.__ppCalendar=B}return B}function a(A){var B=A.__btnMonthPrev;if(!B){B=new b({cssClass:P+" oui-datepicker-btn-month-prev",lico:"ui-icon-circle-triangle-w ",click:function(){var D=g.parse([A.year(),A.month(),A.day()].join("-"));D=g.add(D,"m",-1);A.value(g.format(D,"yyyy-MM-dd")+" "+z(A).value())}});A.__btnMonthPrev=B}return B}function n(A){var B=A.__btnMonthNext;if(!B){B=new b({cssClass:P+" oui-datepicker-btn-month-next",
lico:"ui-icon-circle-triangle-e",click:function(){var D=g.parse([A.year(),A.month(),A.day()].join("-"));D=g.add(D,"m",+1);A.value(g.format(D,"yyyy-MM-dd")+" "+z(A).value())}});A.__btnMonthNext=B}return B}function r(A){var B=A.__txtYear;if(!B){B=new f({cssClass:"oui-datepicker-txt-year",maxlen:4,_inputBlur:function(){var D=[B.text(),A.month(),A.day()].join("-");A.value(D);A.__isEmpty=B.input().value=="";j.remove(B.box(),"ui-state-focus")}});A.__txtYear=B}return B}function t(A){var B=A.__txtMonth;if(!B){B=
new f({cssClass:"oui-datepicker-txt-month",maxlen:2,_inputBlur:function(){var D=B.text();D=[A.year(),D,A.day()].join("-");A.value(D);A.__isEmpty=B.input().value=="";j.remove(B.box(),"ui-state-focus")}});A.__txtMonth=B}return B}function u(A){var B=A.__divCalendarTop;if(!B){B=k.create("div",{cssClass:"oui-datepicker-calendar-top",children:[a(A).box(),n(A).box(),{tag:"div",cssClass:"oui-datepicker-year-month",children:[r(A).box(),{tag:"span",cssClass:Q,html:"\u5e74"},t(A).box(),{tag:"span",cssClass:Q,
html:"\u6708"}]}]});A.__divCalendarTop=B}return B}function v(A){var B=A.__divWeeks;if(!B){B=k.create("div",{cssClass:"ui-widget-content oui-datepicker-weeks"});for(var D=k.createTable({}),L=k.create("tr"),H=k.create("tbody",{children:[L]}),J="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),w=0,y=J.length,G;w<y;w++){G=J[w];k.append(L,k.create("td",{children:[{tag:"span",cssClass:"oui-datepicker-week",html:G}]}))}k.append(D,H);k.append(B,D);A.__divWeeks=B}return B}function x(A){var B=A.__divDays;
if(!B){B=k.create("div",{cssClass:"oui-datepicker-days"});A.__divDays=B}return B}function z(A){var B=A.__ctrlTimeSelector;if(!B){B=new onyx.ui.TimeSelector({change:function(){if(A.widthTime()){var D=[A.year(),A.month(),A.day()].join("-");A.__value=D+" "+B.value()}}});A.__ctrlTimeSelector=B}return B}function C(A,B,D){D=g.parse(B+"-"+D+"-01");B=D.getDay();var L=g.maxDayOfMonth(D);D=k.fragment();var H=x(A),J=A.__htDaySpans;J.clear();for(var w=0;w<B;w++)k.append(D,F(A,-1));for(w=1;w<=L;w++){var y=F(A,
w);(w+B-1)%7===0&&j.add(y,"oui-datepicker-sunday");k.append(D,y);J.put(w+"",y)}B=k.children(H);for(w=B.length-1;w>=0;w--)E(A,B[w]);k.append(H,D)}function F(A,B){var D=k.create("span",{cssClass:B>0?"oui-datepicker-day":"oui-datepicker-day-empty",html:B>0?B+"":"&nbsp;"});B>0&&m.bind(D,{mouseover:A.__dayMouseOver,mouseout:A.__dayMouseOut,click:A.__dayClick});return D}function E(A,B){m.remove(B,{mouseover:A.__dayMouseOver,mouseout:A.__dayMouseOut,click:A.__dayClick});k.remove(B)}var I="ui-state-active",
P="oui-datepicker-btn-month",Q="oui-datepicker-top-lb";return{__init:function(A){A=A||{};if(l.isStr(A))A={box:A};this.__widthTime=l.getBool(A.widthTime,false);var B=this;A=o.merge(A,{rico:"ui-icon-calculator",cssClass:p.trimJoin(["oui-datepicker",A.cssClass]," "),readonly:true,_inputFocus:function(){var H=h(B);H.show({target:B.box()});H.maxZIndex()}});this.__super("__init",arguments,A);if(this.__widthTime){k.outerWidth(this.input(),72);var D=this.box(),L=z(this);k.append(D,L.box());L.resize()}this.__htDaySpans=
new q;this.__dayMouseOver=function(H){j.add(H.srcElement||this,"ui-state-hover")};this.__dayMouseOut=function(H){j.remove(H.srcElement||this,"ui-state-hover")};this.__dayClick=function(H){H=parseInt(k.html(H.srcElement||this));H=[B.year(),B.month(),H].join("-");if(B.widthTime()){var J=z(B).value();H=H+" "+J}B.value(H);h(B).hide()};this.__inputKeypress=c.keypress(this.input(),function(H){m.keyCode(H)==8&&B.clear()});this.value(A.value||"")},year:function(){return this.__year},month:function(){return this.__month},
day:function(){return this.__day},value:function(A){var B=this.widthTime();if(l.isStr(A)){A=p.trim(A);var D;if(p.isEmpty(A)){A=null;D=new Date}else try{D=g.parse(A)}catch(L){A=null;D=new Date}var H=D.getFullYear(),J=D.getMonth()+1;if(!isNaN(H)&&!isNaN(J)&&H>=1&&H<=9999&&J>=1&&J<=12){if(H!==this.__year||J!==this.__month){C(this,H,J);r(this).text(H+"");t(this).text(J+"");this.__year=H;this.__month=J}d(this,D.getDate());if(A===null){this.text("");B&&z(this).value(null);this.__value=null}else{A=[this.year(),
this.month(),this.day()].join("-");this.text(A);if(B){B=g.format(D,"hh:mm:ss");z(this).value(B);this.__value=A+" "+B}else this.__value=A}}else{r(this).text(this.year()+"");t(this).text(this.month()+"")}}else return this.isEmpty()?null:this.__value},clear:function(){this.text("");this.__value=""},widthTime:function(){return this.__widthTime},resize:function(){this.widthTime()&&z(this).resize()},destroy:function(){}}}())})();
(function(){var q=onyx.Browser,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ClassUtil,j=onyx.util.CssUtil,m=onyx.util.DomUtil;__package("onyx.ui").__class("TableCell").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(k){if(!l.isObj(k._table))throw new Error("\u53c2\u6570 _table \u9519\u8bef");if(!l.isObj(k._row))throw new Error("\u53c2\u6570 _row \u9519\u8bef");if(!l.isObj(k._column))throw new Error("\u53c2\u6570 _column \u9519\u8bef");if(!l.isNum(k._index))throw new Error("\u53c2\u6570 _index \u9519\u8bef");
this.__table=k._table;this.__row=k._row;this.__column=k._column;this.__index=k._index;this.__super("__init",arguments,{box:this.box()});this._initUI(k);this.content(k.content)},_initUI:function(k){var g=this.column(),c=this.box();k=p.trim((k._cssClass||"")+" "+(k.cssClass||""));k.length>0&&o.add(c,k);j.set(c,g.cellsStyle())},content:function(k){if(l.isUndef(k))return this.__content;else{this.__content=k;var g=this.box();m.html(g,"");if(l.isObj(k))if(k&&l.isFunc(k.box))m.append(g,k.box());else try{m.append(g,
k)}catch(c){q.isIE_6_7()&&m.html(g,"&nbsp;")}else{k=k===null?"\u3000":k+"";k=m.create("span",{cssClass:"oui-table-cell-str-cont",text:k,attrs:{title:k}});m.append(g,k)}}},table:function(){return this.__table},row:function(){return this.__row},column:function(){return this.__column},index:function(){return this.__index},_index_:function(k){this.__index=k},prev:function(){return this.__prev},_prev_:function(k){this.__prev=k},next:function(){return this.__next},_next_:function(k){this.__next=k},data:function(k){if(l.isUndef(k))return this.__data;
else this.__data=k},box:function(){var k=this.__box;if(!k)this.__box=k=m.create("td",{cssClass:"oui-table-cell"});return k},id:function(){return this.__id},destroy:function(){delete this.__table;delete this.__row;delete this.__column;delete this.__prev;delete this.__next;delete this.__index;delete this.__id;this.__super("destroy",arguments);m.remove(this.__box);delete this.__box}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.util.DomUtil,j=onyx.util.ClassUtil,m=onyx.ui.Event,k=onyx.ui.TableCell;__package("onyx.ui").__class("TableRow").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function g(c,b){b=b.split(".");var f=b.length;if(f>1)for(var d=0;d<f;d++){c=c[b[d]];if(d<f-1&&!l.isObj(c)){c=null;break}}else c=c[b[0]];return c}return{__init:function(c){if(!l.isObj(c._table))throw new Error("\u53c2\u6570 _table \u9519\u8bef");
if(!l.isNum(c.index))throw new Error("\u53c2\u6570 index \u9519\u8bef");this.__arrCells=[];this.__htCells=new q;this.__table=c._table;this.__tableBody=c._tableBody;this.__index=c.index;this.__onClick=c._onClick;this.__onMouseOver=c._onRowOver;this.__onMouseOut=c._onRowOut;this.__onRemove=c._onRemove;this.__onSelectedChanged=c.onSelectedChanged;this.__rowId=c.rowId||o.randId();this.__visible=true;this.__selected=false;this._initUI(c);this.__super("__init",arguments,{box:this.box(),data:c.data});this._setCells(c.contents||
{})},_initUI:function(c){var b=this,f=this.box(),d=c._tableBody;this.__boxMouseOver=m.mouseover(f,function(){j.add(f,"ui-state-hover");var h=b.__onMouseOver;l.isFunc(h)&&h(b)});this.__boxMouseOut=m.mouseout(f,function(){j.remove(f,"ui-state-hover");var h=b.__onMouseOut;l.isFunc(h)&&h(b)});this.__boxClick=m.click(f,function(h){var a=b.__onClick;if(l.isFunc(a))if(a.call(b)===false)return false;d.multiSelect()&&o.isPressCtrl(h)?b.selected(!b.selected(),h):b.selected(true)})},_setCells:function(c){var b=
this.box(),f=this.table(),d=this.__arrCells,h=this.__htCells,a=f.firstColumn(),n=f.columns().length-1,r=0,t=null,u=true;for(c.__num__=this.index()+1;a;){var v=a.name(),x={_table:f,_row:this,_column:a,_index:r,content:g(c,v)};if(u)x._cssClass="oui-table-cell-first";else if(r==n)x._cssClass="oui-table-cell-last";x=new k(x);o.append(b,x.box());d.push(x);h.put(v,x);if(u){this.__firstCell=x;u=false}if(t){t._next_(x);x._prev_(t)}t=x;r++;a=a.next()}},setContents:function(c){for(var b=this.__table.firstColumn(),
f=this.__arrCells,d=0;b;){f[d].content(g(c,b.name()));d++;b=b.next()}},firstCell:function(){return this.__firstCell},index:function(){return this.__index},_index_:function(c){this.__index=c},rowId:function(){return this.__rowId},_rowId_:function(c){this.__rowId=c},visible:function(c){if(l.isBool(c))if(this.__visible!==c){o.set(this.box(),{display:c});this.__visible=c}else return this.__visible},cell:function(c){return this.__htCells.get(c)},moveUp:function(){return this.table().moveUp(this.index())},
moveDown:function(){return this.table().moveDown(this.index())},selected:function(c){var b=this.__selected;if(l.isBool(c))c!==b&&this.__tableBody.selected(this,c);else return this.__selected},_selected_:function(c){if(l.isBool(c)){this.actived(c);this.__selected=c;var b=this.__onSelectedChanged;b&&b.call(this,c)}},remove:function(){this.selected()&&this.selected(false);this.__onRemove(this);var c=this.__prev;next=this.__next;if(c)c.__next=next;if(next){next.__prev=c;c=this.table().showNumColumn();
var b=next.__index-1;do{next.__index=b;c&&next.cell("__num__").content(b+1+"");next=next.__next;b++}while(next)}this.destroy()},destroy:function(){for(var c=this.__arrCells,b=0,f=c.length;b<f;b++)c[b].destroy();p.clear(this.__arrCells);this.__htCells.clear();this.__boxMouseOver.destroy();this.__boxMouseOut.destroy();this.__boxClick.destroy();delete this.__arrCells;delete this.__htCells;delete this.__table;delete this.__tableBody;delete this.__index;delete this.__onClick;delete this.__onMouseOver;
delete this.__onMouseOut;delete this.__onRemove;delete this.__onSelectedChanged;delete this.__rowId;delete this.__visible;delete this.__selected;delete this.__firstCell;delete this.__boxMouseOver;delete this.__boxMouseOut;delete this.__boxClick;delete this.__prev;delete this.__next;this.__super("destroy",arguments);o.remove(this.__box);delete this.__box},cells:function(){return this.__arrCells},rowId:function(){return this.__rowId},prev:function(){return this.__prev},_prev_:function(c){this.__prev=
c},next:function(){return this.__next},_next_:function(c){this.__next=c},table:function(){return this.__table},box:function(){var c=this.__box;if(!c)this.__box=c=o.create("tr",{cssClass:"oui-table-row"});return c}}}())})();
(function(){var q=onyx.util.ObjUtil,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ClassUtil,j=onyx.util.CssUtil,m=onyx.util.DomUtil;__package("onyx.ui").__class("TableColumn").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__static(function(){return{numColWidth:function(){return 48},createNumCol:function(k){return new onyx.ui.TableColumn(q.merge(k,{text:"\u5e8f\u53f7",name:"__num__",align:"center",width:48,cellsStyle:{"text-align":"center"}}))},createLastCol:function(k){return new onyx.ui.TableColumn(q.merge(k,
{name:"__last__",align:"center",_cssClass:"oui-table-column-last"}))}}}()).__methods(function(){return{__init:function(k){if(!l.isObj(k._table))throw new Error("\u53c2\u6570 _table \u9519\u8bef");if(!l.isNum(k._index))throw new Error("\u53c2\u6570 _index \u9519\u8bef");if(!l.isStr(k.name))throw new Error("\u53c2\u6570 name \u9519\u8bef");this.__table=k._table;this.__index=k._index;this.__name=k.name;this.__width=k.width;this.__cellsStyle=k.cellsStyle||{};this._initUI(k);this.__super("__init",arguments,
{box:this.box(),data:k.data})},_initUI:function(k){var g=this.box(),c=k.name==="__last__",b=k.width;b=l.isNum(b)?b+"px":"auto";var f=p.trim((k._cssClass||"")+" "+(k.cssClass||"")),d=k.text,h=k.align;f.length>0&&o.add(g,f);h&&j.set(g,"text-align",h);if(!c){j.set(g,"width",b);this.__cellsStyle.width=b}if(l.isStr(d))m.append(g,m.create("span",{cssClass:"oui-table-column-str-cont",html:d||"&nbsp;",attrs:{title:d||""}}));else{k=k.elem;if(l.isObj(k))try{m.append(g,k)}catch(a){m.html(g,"&nbsp;")}else m.html(g,
"&nbsp;")}},table:function(){return this.__table},box:function(){var k=this.__box;if(!k)this.__box=k=m.create("th",{cssClass:"oui-table-column"});return k},prev:function(){return this.__prev},_prev_:function(k){this.__prev=k},next:function(){return this.__next},_next_:function(k){this.__next=k},name:function(){return this.__name},width:function(){return this.__width},cellsStyle:function(){return this.__cellsStyle},destroy:function(){delete this.__table;delete this.__index;delete this.__name;delete this.__width;
delete this.__cellsStyle;delete this.__prev;delete this.__next;this.__super("destroy",arguments);m.remove(this.__box);delete this.__box}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.util.EventUtil,j=onyx.util.DomUtil,m=onyx.util.CssUtil,k=onyx.util.ClassUtil,g=onyx.ui.TableRow;__package("onyx.ui").__class("TableBody").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function c(b,f,d){for(var h=b.table().columns(),a=0,n=h.length;a<n;a++){var r=h[a].name();if(!(r==="__num__"||r==="__last__")){var t=f.cell(r);r=d.cell(r);var u=t.content();t.content(r.content());r.content(u)}}h=
f.data();f.data(d.data());d.data(h);b=b.__htRows;h=f.rowId();a=d.rowId();f._rowId_(a);d._rowId_(h);b.contains(h)&&b.set(h,d);b.contains(a)&&b.set(a,f)}return{__init:function(b){if(!l.isObj(b._table))throw new Error("\u53c2\u6570 _table \u9519\u8bef");this.__htRows=new q;this.__arrRows=[];this.__table=b._table;this.__rowClass=l.getStr(b.rowClass,null);this.__rowType=l.getFunc(b.rowType,null);this.__onRowOut=l.getFunc(b.onRowOut,null);this.__onRowOver=l.getFunc(b.onRowOver,null);this.__onRowClick=l.getFunc(b.onRowClick,
null);this.__evenRowClass=l.getStr(b.evenRowClass,null);this.__multiSelect=l.getBool(b.multiSelect,false);this.__beforeRowSelectedChange=l.getFunc(b.beforeRowSelectedChange,null);this.__onRowSelectedChange=l.getFunc(b.onRowSelectedChange,null);this.__onRowSelected=l.getFunc(b.onRowSelected,null);this.__htSelectedRows=new q;this.__selectedRow=null;var f=this;this.__onRowRemove=function(d){p.remove(f.__arrRows,d.index());f.__htRows.remove(d.rowId())};this.__super("__init",arguments,{box:this.box()})},
box:function(){var b=this.__box;if(!b)this.__box=b=j.create("div",{cssClass:"oui-table-body-outer y-hidden x-hidden",children:[this._tableNode()]});return b},selected:function(b,f){if(!b||!l.isBool(f)||b.selected()===f)return null;var d=this.__beforeRowSelectedChange;if(d&&d.call(this,b)===false)return null;if(this.__multiSelect){d=this.__htSelectedRows;var h=b.rowId();if(o.isPressCtrl(e))b.selected()?d.put(h,b):d.remove(h);else{d.each(function(a){a._selected_(false)});d.clear();b._selected_(f);if(f===
true){d.put(h,b);(d=this.__onRowSelected)&&d.call(this,b)}}}else{if(d=this.__selectedRow){d._selected_(false);this.__selectedRow=null}b._selected_(f);if(f===true){this.__selectedRow=b;(d=this.__onRowSelected)&&d.call(this,b)}else this.__selectedRow=null}(d=this.__onRowSelectedChange)&&d.call(this,b)},startAddRows:function(){this.__fragmentRows=j.fragment()},addRow:function(b){var f=this.__arrRows,d=f.length,h=b.index;if(l.isNum(h)){if(h<0||h>d)throw new Error("index\u53c2\u6570\u8d85\u51fa\u8303\u56f4");
}else{h=d;b.index=h}b._table=this.table();b._tableBody=this;b._onClick=this.__onRowClick;b._onMouseOver=this.__onRowOver;b._onMouseOut=this.__onRowOut;b._onRemove=this.__onRowRemove;b=new (this.__rowType||g)(b);var a=b.box();if(h==d){node=this.__fragmentRows||this._tbody();j.append(node,a);f.push(b);if(f=this.__lastRow){f._next_(b);b._prev_(f)}this.__lastRow=b}else{var n=f[h];j.insertBefore(a,n.box());for(a=d;a>h;a--){d=f[a-1];d._index_(a);f[a]=d}f[h]=b;if(h>0){f=f[h-1];f._next_(b);b._prev_(f)}b._next_(n);
n._prev_(b)}this.__htRows.put(b.rowId(),b);if(h==0)this.__firstRow=b;this.__fragmentRows===null&&this._checkYScroll();return b},endAddRows:function(){var b=this.__fragmentRows;if(b){j.append(this._tbody(),b);this.__fragmentRows=null}this._checkYScroll()},getRow:function(b){return this.__htRows.get(b)},moveUp:function(b){l.isNum(b)||onyx.error("\u53c2\u6570rowIndex\u9519\u8bef");if(b<=0)return false;var f=this.__arrRows;if(b>f.length-1)return false;c(this,f[b],f[b-1]);return true},moveDown:function(b){l.isNum(b)||
onyx.error("\u53c2\u6570rowIndex\u9519\u8bef");if(b<0)return false;var f=this.__arrRows;if(b>=f.length-1)return false;c(this,f[b],f[b+1]);return true},table:function(){return this.__table},multiSelect:function(){return this.__multiSelect},selectedRows:function(){if(this.__multiSelect)return this.__htSelectedRows.valArray();else{var b=this.__selectedRow;return b?[b]:[]}},selectedRow:function(b){if(l.isNum(b))return this.selectedRows()[b]},rows:function(){return this.__arrRows},clearRows:function(){for(var b=
this.__arrRows,f=b.length-1;f>=0;f--){for(var d=b[f],h=d.cells(),a=h.length-1;a>=0;a--){var n=h[a];n._prev_(null);n._next_(null)}d.remove()}this.__arrRows=[];this.__htRows.clear()},height:function(b,f){var d=this.box();if(l.isNum(b)){j.height(d,b);this.resize(f);return this}else return j.height(d)},_checkYScroll:function(){var b=this.box(),f=j.height(b),d=j.height(this._tableNode()),h=this.__isYScroll;if(!h&&d>f){k.replace(b,"y-hidden","y-scroll");b.scrollLeft=0;this.__isYScroll=true}else if(h&&d<
f){k.replace(b,"y-scroll","y-hidden");this.__isYScroll=false}},resize:function(b){this._checkYScroll();var f=this.__isYScroll,d=this._tableNode();if(f){if(l.isBool(b)){f=this.table().head();f=b&&!f.autoWidthColumn()?f.columnsMinWidth():f.columnsWidth()-17;b&&j.width(d,f)}}else m.set(d,"width","100%")},isYScroll:function(){return this.__isYScroll},_tbody:function(){var b=this.__tbody;if(!b)this.__tbody=b=j.create("tbody");return b},_tableNode:function(){var b=this.__tableNode;if(!b){b=j.createTable({cssClass:"oui-table-body"});
m.set(b,"width","100%");j.append(b,this._tbody());this.__tableNode=b}return b},destroy:function(){this.clearRows();delete this.__htRows;delete this.__arrRows;delete this.__table;delete this.__rowClass;delete this.__rowType;delete this.__onRowOut;delete this.__onRowOver;delete this.__onRowClick;delete this.__evenRowClass;delete this.__multiSelect;delete this.__beforeRowSelectedChange;delete this.__onRowSelectedChange;delete this.__onRowSelected;delete this.__htSelectedRows;delete this.__selectedRow;
delete this.__fragmentRows;delete this.__tbody;delete this.__tableNode;delete this.__isYScroll;this.__super("destroy",arguments);j.remove(this.__box);delete this.__box}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.util.CssUtil,j=onyx.util.DomUtil,m=onyx.ui.TableColumn;__package("onyx.ui").__class("TableHead").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function k(g,c,b,f){j.append(c,g.box());b.push(g);f.put(g.name(),g)}return{__init:function(g){if(!l.isObj(g._table))throw new Error("\u53c2\u6570 _table \u9519\u8bef");this.__table=g._table;this.__arrColumns=[];this.__htColumns=new q;this.__columnsMinWidth=
0;this.__scrollBarWidth=17;this.__super("__init",arguments,{box:this.box()});this.height(g.headHeight);var c=g.columns;c&&this._setColumns_(c)},table:function(){return this.__table},box:function(){var g=this.__box;if(!g){g=this._tableNode();this.__box=g=j.create("div",{cssClass:"ui-widget-content oui-table-head-outer",children:[g]})}return g},_setColumns_:function(g){var c=this.__htColumns,b=this.__arrColumns,f=this._tr(),d=onyx.ui.TableColumn.numColWidth();c.clear();p.clear(b);j.clearChildren(f);
var h=this.table(),a=j.fragment(),n=0,r=0,t;if(h.showNumColumn()){t=m.createNumCol({_table:h,_index:r,_cssClass:r==0?"oui-table-column-first":""});k(t,a,b,c);n+=d;this.__firstColumn=this.__numColumn=t;r++}d=t;for(var u=0,v=g.length,x;u<v;u++){x=g[u];x._table=h;x._index=r;var z=new m(x),C=z.name();if(c.contains(C))console.log("\u5df2\u5b58\u5728\u5217\u540d\uff1a"+C);else{if(d){d._next_(z);z._prev_(d)}k(z,a,b,c);d=z;if(u==0&&!t)this.__firstColumn=z;if(l.isNum(x.width))n+=x.width;else{if(this.__autoWidthColumn)throw new Error("\u53ea\u80fd\u6709\u4e00\u4e2a\u81ea\u52a8\u5bbd\u5ea6\u5217");
this.__autoWidthColumn=z;n+=x.minWidth||24}r++}}g=m.createLastCol({_table:h,_index:r});n+=this.__scrollBarWidth;if(d){g._prev_(d);d._next_(g)}k(g,a,b,c);this.__lastColumn=g;this.__columnsMinWidth=n;j.append(f,a);this.resize(false)},resize:function(g){var c=this.__columnsMinWidth,b=this._tableNode();if(g===true){g=l.isObj(this.autoWidthColumn())?c+17:c;j.width(b,g);this.box().scrollLeft=0}else{g=l.isObj(this.autoWidthColumn())?"100%":"auto";o.set(b,"width",g)}},_tableNode:function(){var g=this.__tableNode;
if(!g){g=j.createTable({cssClass:"oui-table-head"});j.set(g,{children:[{tag:"thead",children:[this._tr()]}]});this.__tableNode=g}return g},_tr:function(){var g=this.__tr;if(!g)this.__tr=g=j.create("tr");return g},firstColumn:function(){return this.__firstColumn},columns:function(){return this.__arrColumns},getColumn:function(g){return this.__htColumns.get(g)},table:function(){return this.__table},autoWidthColumn:function(){return this.__autoWidthColumn},columnsMinWidth:function(){return this.__columnsMinWidth},
columnsWidth:function(){return j.width(this.__tableNode)},_numColumn:function(){return this.__numColumn},lastColumn:function(){return this.__lastColumn},destroy:function(){for(var g=this.__arrColumns,c=g.length-1;c>=0;c--)g[c].destroy();p.clear(g);this.__htColumns.clear();delete this.__table;delete this.__arrColumns;delete this.__htColumns;delete this.__columnsMinWidth;delete this.__scrollBarWidth;delete this.__firstColumn;delete this.__numColumn;delete this.__lastColumn;delete this.__autoWidthColumn;
delete this.__columnsMinWidth;delete this.__tableNode;this.__super("destroy",arguments);j.remove(this.__box);delete this.__box}}}())})();
(function(){var q=onyx.Browser,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.util.DomUtil,j=onyx.util.CssUtil,m=onyx.util.ClassUtil,k=onyx.ui.Event;__package("onyx.ui").__class("Table").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(g){this.__showNumColumn=l.getBool(g.showNumColumn,false);this.__height=l.getNum(g.height,null);this.__isXScroll=false;g._table=this;var c=this.head(g),b=this.body(g),f=this.box(g),d=c.box(),h=b.box();j.get(f,"height")&&b.height(this.height()-
c.height());this.__super("__init",arguments,{box:f});this.__bodyScroll=k.scroll(h,function(){d.scrollLeft=h.scrollLeft});p.merge(this,{firstColumn:function(){return c.firstColumn()},columns:function(){return c.columns()},autoWidthColumn:function(){return c.autoWidthColumn()},rows:function(){return b.rows()},getRow:function(r){return b.getRow(r)},clearRows:function(){return b.clearRows()},startAddRows:function(){return b.startAddRows()},addRow:function(r){return b.addRow(r)},moveUp:function(r){return b.moveUp(r)},
moveDown:function(r){return b.moveDown(r)},endAddRows:function(){b.endAddRows();this.resize()},selectedRows:function(){return b.selectedRows()},selectedRow:function(r){return b.selectedRow(r)}});var a=g.height,n=g.width;l.isNum(a)&&o.height(f,a);l.isNum(n)&&o.width(f,n);this.resize()},box:function(g){var c=this.__box;if(!c){if(!g)throw new Error("\u53c2\u6570o\u9519\u8bef");var b=g.box;if(l.isUndef(b))c=o.create("div");else if(l.isStr(b))c=o.byId(b);else if(l.isElem(b))c=b;if(!c)throw new Error("\u53c2\u6570box\u9519\u8bef");
m.add(c,"ui-widget-content oui-table "+(g.cssClass||""));g=this.head();b=this.body();o.set(c,{children:[g.box(),b.box()]});m.add(c,g.autoWidthColumn()?"oui-table-w-auto-x-auto":"oui-table-w-fixed-x-auto");this.__box=c}return c},head:function(g){var c=this.__head;if(!c){if(!g)throw new Error("\u53c2\u6570o\u9519\u8bef");this.__head=c=new onyx.ui.TableHead(g)}return c},body:function(g){var c=this.__body;if(!c){if(!g)throw new Error("\u53c2\u6570o\u9519\u8bef");this.__body=c=new onyx.ui.TableBody(g)}return c},
height:function(g){var c=this.__box;if(l.isNum(g)){o.height(c,g);this.resize();return this}else return o.height(c)},width:function(g){var c=this.__box;if(l.isNum(g)){o.width(c,g);this.resize();return this}else return o.width(c)},resize:function(){var g=this.__box,c=this.head(),b=this.body(),f=o.clientHeight(g),d=c.autoWidthColumn(),h=c.columnsMinWidth(),a=c.width(),n=this.__isXScroll;if(!n&&h>a){d?m.replace(g,"oui-table-w-auto-x-auto","oui-table-w-auto-x-scroll"):m.replace(g,"oui-table-w-fixed-x-auto",
"oui-table-w-fixed-x-scroll");c.resize(true);this.__isXScroll=true}else if(n&&h<a){b.box();d?m.replace(g,"oui-table-w-auto-x-scroll","oui-table-w-auto-x-auto"):m.replace(g,"oui-table-w-fixed-x-scroll","oui-table-w-fixed-x-auto");c.resize(false);this.__isXScroll=false}b.height(f-c.height(),this.__isXScroll);g=c.box();if(q.isFireFox())b.isYScroll()?m.add(g,"oui-table-ff-y-scroll"):m.remove(g,"oui-table-ff-y-scroll")},fill:function(g){if(l.isFunc(g.box))g=g.box();l.isObj(g)||onyx.error("\u53c2\u6570o\u9519\u8bef");
var c=this.box(),b=o.clientWidth(g);g=o.clientHeight(g);o.outerWidth(c,b);o.outerHeight(c,g);this.resize()},showNumColumn:function(){return this.__showNumColumn},resetColumns:function(g){this.clearRows();this.head()._setColumns_(g)},destroy:function(){this.__head.destroy();this.__body.destroy();delete this.__showNumColumn;delete this.__height;delete this.__isXScroll;delete this.__showNumColumn;delete this.__bodyScroll;delete this.__head;delete this.__body;this.__super("destroy",arguments);var g=this.__box;
m.remove(g,"ui-widget-content oui-table");m.remove(g,"oui-table-w-fixed-x-scroll");m.remove(g,"oui-table-w-fixed-x-auto");m.remove(g,"oui-table-w-auto-x-scroll");m.remove(g,"oui-table-w-auto-x-auto");delete this.__box}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil,p=onyx.util.ArrayUtil,o=onyx.util.DomUtil,j=onyx.util.CssUtil,m=onyx.util.ClassUtil,k=onyx.util.EventUtil;Event=onyx.ui.Event;__package("onyx.ui").__class("TreeNode").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods({__init:function(g){if(!q.isObj(g._tree))throw new Error("\u53c2\u6570_tree\u9519\u8bef");if(!q.isNum(g._index))throw new Error("\u53c2\u6570_index\u9519\u8bef");if(!q.isNum(g._depth))throw new Error("\u53c2\u6570_depth\u9519\u8bef");
if(!q.isFunc(g._onSelectedChange))throw new Error("\u53c2\u6570_onSelectedChange\u9519\u8bef");l.merge(this,{__tree:g._tree,__index:g._index,__depth:g._depth,__beforeSelectedChange:q.getFunc(g._beforeSelectedChange,null),__onSelectedChange:g._onSelectedChange,__onSelected:q.getFunc(g._onSelected,null),__onRemove:q.getFunc(g._onRemove,null),__onExpand:q.getFunc(g._onExpand,null),__onRightClick:q.getFunc(g._onRightClick,null),__pitchPointExpandIco:q.getStr(g._pitchPointExpandIco,"ui-icon-triangle-1-se"),
__pitchPointCloseIco:q.getStr(g._pitchPointCloseIco,"ui-icon-triangle-1-e"),__parent:q.getObj(g._parent,null),__prevNode:q.getObj(g._prevNode,null),__nextNode:q.getObj(g._nextNode,null),__ico:q.getStr(g.ico,null),__ajaxNode:q.getBool(g.ajaxNode,false),__nodeId:g._nodeId,__data:g.data,__selected:false,__children:[]});this.__initUI(g);var c=this;this.__pitchPointClick=Event.click(this._pitchPoint(),function(){c.expanded()?c.close():c.expand()});var b=this._textSpan();this.__textSpanMouseover=Event.mouseover(b,
function(){m.add(c._divNode(),"ui-state-hover")});this.__textSpanMouseout=Event.mouseout(b,function(){m.remove(c._divNode(),"ui-state-hover")});var f=this.__onRightClick;if(f){k.preventContextMenu(b);this.__textSpanMousedown=Event.mouseup(b,function(d){k.isMouseRight(d)&&f.call(c,d)})}this.__textSpanClick=Event.click(b,function(){c.selected()||c.selected(true)});this.__super("__init",arguments,{box:this.box()});this.text(g.text)},__initUI:function(g){g=this.box(g);var c=this._divNode(),b=this._pitchPoint(),
f=this._textSpan(),d=this._divChildren();o.append(c,b);(b=this._checkbox())&&o.append(c,b);this.__ico&&o.append(c,this._iconSpan());o.append(c,f);o.append(g,c);o.append(g,d)},text:function(g){var c=this._textSpan();if(q.isStr(g)){o.text(c,g);this.__text=g}else return this.__text},ico:function(){return this.__ico},addChild:function(g){var c=0,b=null,f=null,d=this.__children;c=g.index;if(!q.isNum(c)||c<0||c>d.length-1)c=d.length;else{c=c;f=d[c]}if(c>0)b=d[c-1];l.merge(g,{_tree:this.__tree,_parent:this,
_depth:this.depth()+1,_index:c,_prevNode:b,_next:f,_onSelectedChange:this.__onSelectedChange,_onSelected:this.__onSelected,_onRemove:this.__onRemove,_onExpand:this.__onExpand});g=new onyx.ui.TreeNode(g);if(f){f._prveNode_(g);for(f=f.nextNode();f;){f._index_(f.index()+1);f=f.nextNode()}}b&&b._nextNode_(g);p.insert(d,c,g);c=this._divChildren();b=this._pitchPoint();o.append(c,g.box());if(d.length==1&&m.has(b,"no-children")){d="ui-icon "+(this.expanded()?this.__pitchPointExpandIco:this.__pitchPointCloseIco);
m.replace(b,"no-children",d)}return g},remove:function(){var g=this.parent(),c=this.index();g?g.removeChild(c):this.tree().removeRoot(c)},removeChild:function(g){var c=this.__children,b=c[g],f=this.__onRemove;if(f)if(!f(b))return false;if(b){f=b.prveNode();var d=b.nextNode();f&&f._nextNode_(d);for(f&&d&&d._prveNode_(f);d;){d._index_(d.index()-1);d=d.nextNode()}b.clearChildren();o.remove(b.box());p.remove(c,g);g=this._pitchPoint();if(c.length===0){m.add(g,"no-children");m.remove(g,"ui-icon",this.__pitchPointExpandIco,
this.__pitchPointCloseIco)}}},children:function(){return this.__children},clearChildren:function(){p.each(this.__children,function(g){g.remove()},"desc");p.clear(this.__children)},tree:function(){return this.__tree},index:function(){return this.__index},_index_:function(g){if(q.isNum(g)&&g>=0)this.__index=g;else throw new Error("\u53c2\u6570n\u5fc5\u987b\u662f>=0\u7684\u6570\u5b57\u7c7b\u578b");},depth:function(){return this.__depth},parent:function(){return this.__parent},prveNode:function(){return this.__prveNode},
_prveNode_:function(g){this.__prveNode=g},nextNode:function(){return this.__nextNode},_nextNode_:function(g){this.__nextNode=g},checked:function(g){var c=this.__checkbox;if(q.isBool(g)){if(c)c.checked=g}else{if(!c)return false;return c.checked}},selected:function(g){var c=this.__selected;if(q.isBool(g)&&g!=c){if((c=this.__beforeSelectedChange)&&c.call(this,this)===false)return false;c=this._divNode();if(g===true){for(var b=this.parent();b;){b.expand();b=b.parent()}m.add(c,"ui-state-active")}else m.remove(c,
"ui-state-active");this.__selected=g;this.__onSelectedChange(this);g===true&&this.__onSelected&&this.__onSelected(this);return this}else return c},expanded:function(){return j.get(this._divChildren(),"display")!=="none"},expand:function(){var g=true,c=this.__onExpand;if(c){g=c(this);g=q.isBool(g)?g:true}if(g===true)if(!this.expanded()){j.display(this._divChildren(),"");m.replace(this._pitchPoint(),this.__pitchPointCloseIco,this.__pitchPointExpandIco)}},close:function(){if(this.expanded()){j.display(this._divChildren(),
"none");m.replace(this._pitchPoint(),this.__pitchPointExpandIco,this.__pitchPointCloseIco)}},nodeId:function(g){if(q.isUndef(g))return this.__nodeId;else{this.__nodeId=g;return this}},data:function(g){if(q.isUndef(g))return this.__data;else{this.__data=g;return this}},ajaxNode:function(){return this.__ajaxNode},box:function(g){var c=this.__box;if(!c){if(!g)throw new Error("\u53c2\u6570\u9519\u8bef");this.__box=c=o.create("div",{cssClass:"oui-tree-node-outer"})}return c},_pitchPoint:function(){var g=
this.__pitchPoint;if(!g){g=this.ajaxNode()?"ui-icon "+this.__pitchPointCloseIco:"no-children";this.__pitchPoint=g=o.create("span",{cssClass:g+" pitch-point",style:{"margin-left":16*this.depth()+"px"}})}return g},_divNode:function(){var g=this.__divNode;if(!g)this.__divNode=g=o.create("div",{cssClass:"oui-tree-node"});return g},_textSpan:function(){var g=this.__textSpan;if(!g)this.__textSpan=g=o.create("span",{cssClass:"node-text",text:this.__text});return g},_iconSpan:function(){var g=this.__icoSpan;
if(!g)this.__icoSpan=g=o.create("span",{cssClass:"node-icon "+this.ico()});return g},_divChildren:function(){var g=this.__divChildren;if(!g)this.__divChildren=g=o.create("div",{cssClass:"children",style:{display:"none"}});return g},_checkbox:function(){var g=this.__checkbox;if(!g){g=this.tree();if(!g.showCheckBox())return null;this.__checkbox=g=o.create("input",{cssClass:"checkbox",attrs:{type:"checkbox",name:g.checkBoxName(),value:this.__nodeId+""}})}return g},destroy:function(){}})})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.util.StrUtil,j=onyx.util.ArrayUtil,m=onyx.util.DomUtil,k=onyx.util.CssUtil,g=onyx.util.ClassUtil,c=onyx.ui.TreeNode;__package("onyx.ui").__class("Tree").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){return{__init:function(b){b=b||{};b=p.merge({showCheckBox:false,showIcon:false,multiSelect:false},b);p.merge(this,{__autoExpand:l.getBool(b.autoExpand,false),__showCheckBox:l.getBool(b.showCheckBox,
false),__beforeSelectedChange:l.getFunc(b.beforeSelectedChange,null),__onSelectedChange:l.getFunc(b.onSelectedChange,null),__onSelected:l.getFunc(b.onSelected,null),__onRemove:l.getFunc(b.onRemove,null),__onNodesExpand:l.getFunc(b.onNodesExpand,null),__onNodesRightClick:l.getFunc(b.onNodesRightClick,null),__pitchPointExpandIco:l.getStr(b.pitchPointExpandIco,"ui-icon-triangle-1-se"),__pitchPointCloseIco:l.getStr(b.pitchPointCloseIco,"ui-icon-triangle-1-e"),__checkBoxName:"__"+o.rand(8),__rootNodes:[],
__selectedNode:null,__htAllNodes:new q});var f=this;this.___onNodesSelectedChange=function(d){var h=f.__selectedNode,a=f.__onSelectedChange;h&&h.selected(false);f.__selectedNode=d;a&&a.call(f,d)};this.___onNodesSelected=function(d){var h=f.__onSelected;h&&h(d)};this.__onNodesRemove=function(d){f.__htAllNodes.remove(d.nodeId());var h=f.__onRemove;if(h&&h(d)===false)return false;return true};this.__super("__init",arguments,{box:this.box(b)})},removeRoot:function(b){var f=this.__rootNodes,d=f[b],h=this.__onNodesRemove;
if(h&&h(d)===false)return false;if(d){if((h=this.__selectedNode)&&d.id()===h.id())this.__selectedNode=null;h=d.prveNode();var a=d.nextNode();h&&h._nextNode_(a);for(h&&a&&a._prveNode_(h);a;){a._index_(a.index()-1);a=a.nextNode()}d.clearChildren();m.remove(d.box());this.__htAllNodes.remove(d.nodeId());j.remove(f,b)}},clearNodes:function(){j.each(this.__rootNodes,function(b){b.remove()},"desc");this.__rootNodes=[];this.__htAllNodes.clear()},selectedNode:function(){return this.__selectedNode},checkedNodeIds:function(b){var f=
this.__checkBoxName;if(l.isUndef(b))return m.valuesByName(f,true);else{this.resetChecked();f=0;for(var d=b.length;f<d;f++){var h=this.getNode(b[f]);h&&h.checked(true)}}},resetChecked:function(){this.__htAllNodes.each(function(b){b.checked(false)})},autoExpand:function(){return this.__autoExpand},addNodes:function(b){for(var f=0,d=b.length;f<d;f++)this.addNode(b[f])},addNode:function(b){var f=null,d=this.__htAllNodes,h=b.nodeId,a=b.parentId;l.isUndefOrNull(a)||(f=d.get(a));if(f){p.merge(b,{_nodeId:h,
_beforeSelectedChange:this.__beforeSelectedChange,_onRightClick:this.__onNodesRightClick});b=f.addChild(b)}else{var n=0;var r=f=null;a=this.__rootNodes;n=b.index;if(!l.isNum(n)||n<0||n>a.length-1)n=a.length;else{n=n;r=a[n]}if(n>0)f=a[n-1];p.merge(b,{_tree:this,_nodeId:h,_parent:null,_depth:0,_index:n,_prevNode:f,_next:r,_pitchPointExpandIco:this.__pitchPointExpandIco,_pitchPointCloseIco:this.__pitchPointCloseIco,_beforeSelectedChange:this.__beforeSelectedChange,_onSelectedChange:this.___onNodesSelectedChange,
_onSelected:this.___onNodesSelected,_onRemove:this.__onNodesRemove,_onExpand:this.__onNodesExpand,_onRightClick:this.__onNodesRightClick});b=new c(b);if(r){r._prveNode_(b);for(h=r.nextNode();h;){h._index_(h.index()+1);h=h.nextNode()}}f&&f._nextNode_(b);m.append(this.box(),b.box());j.insert(a,n,b)}this.__autoExpand&&!b.ajaxNode()&&b.expand();h=b.nodeId();if(d.contains(h))throw new Error("\u5df2\u5b58\u5728nodeId\u4e3a"+h+"\u7684\u8282\u70b9!");d.put(h,b);return b},getNode:function(b){return this.__htAllNodes.get(b)},
fill:function(b){if(l.isFunc(b.box))b=b.box();l.isObj(b)||onyx.error("\u53c2\u6570o\u9519\u8bef");var f=this.box(),d=m.clientWidth(b);b=m.clientHeight(b);m.outerWidth(f,d);m.outerHeight(f,b)},showCheckBox:function(){return this.__showCheckBox},checkBoxName:function(){return this.__checkBoxName},box:function(b){var f=this.__box;if(!f){if(!b)throw new Error("\u53c2\u6570\u9519\u8bef");f=b.box;f=l.isUndef(f)?m.create("div"):m.get(f);var d=b.cssClass;g.add(f,"oui-tree"+(l.isStr(d)?" "+d:""));b=b.style;
l.isObj(b)&&k.set(f,b);this.__box=f}return f},destroy:function(){}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.DomUtil,j=onyx.util.ClassUtil,m=onyx.ui.Event;__package("onyx.ui").__class("MenuItem").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function k(h,a){h.__eMouseover.enabled(a);h.__eMouseout.enabled(a)}function g(h){var a=h.__divLeft;if(!a){a=o.create("div",{cssClass:l.trimJoin([d,"left-box"]," ")});h.__divLeft=a}return a}function c(h){var a=h.__divRight;if(!a){a=o.create("div",{cssClass:l.trimJoin([d,
"right-box"]," ")});h.__divRight=a}return a}function b(){return o.create("span",{cssClass:"ui-icon ui-icon-triangle-1-e"})}function f(h){var a=h.__divContent;if(!a){a=o.create("div",{cssClass:d});h.__divContent=a}return a}var d="inner-box";return{__init:function(h){h=h||{};if(!q.isObj(h._menu))throw new Error("_menu\u53c2\u6570\u9519\u8bef");this.__menu=h._menu;this.__mouseover=h.mouseover;var a=this,n=this.box(h);this.__super("__init",arguments,p.merge(h,{box:n}));this.__itemId=h.itemId||this.id();
this.__onClick=q.getFunc(h._click||null);this.__click=q.getFunc(h.click||null);this.__eMouseover=m.mouseover(n,function(){var r=a.__mouseover;r&&r(a);j.add(n,"ui-state-hover menu-item-hover");(r=a.__child)&&r.show({target:n,position:"alignTop,right"})});this.__eMouseout=m.mouseout(n,function(){j.remove(n,"ui-state-hover menu-item-hover")});this.__eClick=m.click(n,function(){var r=true,t=a.__click;if(t)r=t(a)!==false;if(r)(t=a.__onClick)&&t(a)});this.ico(h.ico);this.text(h.text);this.content(h.content);
this.child(h.child)},itemId:function(){return this.__itemId},menu:function(){return this.__menu},box:function(h){var a=this.__box;if(!a)this.__box=a=o.create("li",{cssClass:l.trimJoin(["oui-menu-item",h.cssClass]," "),children:[g(this),f(this),c(this)]});return a},ico:function(h){if(q.isStr(h)){var a=g(this),n=o.create("span",{cssClass:l.trimJoin(["item-ico",h]," ")});o.html(a,"");o.append(a,n);this.__ico=h}else return this.__ico},text:function(h){if(q.isStr(h)){this.content(h);this.__text=h}else return this.__text},
hide:function(){var h=this.__child;h&&h.hide();this.__super("hide",arguments)},content:function(h){if(!q.isUndefOrNull(h)){if(q.isStr(h)){h=o.create("span",{cssClass:"item-text",text:h,attrs:{href:"javascript:void(0);"}});k(this,true)}else{h=q.isFunc(h.box)?h.box():h;k(this,false)}this.__isTxtCont=void 0;try{o.append(f(this),h)}catch(a){}}},child:function(h){if(q.isObj(h)){o.append(c(this),b(this));h.maxZIndex();this.__child=h}else return this.__child},destroy:function(){delete this.__box}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.StrUtil,o=onyx.util.ObjUtil,j=onyx.util.DomUtil,m=onyx.util.CssUtil,k=onyx.util.ClassUtil,g=onyx.ui.Event,c=onyx.ui.MenuItem;__package("onyx.ui").__class("Menu").__extends(onyx.ui.PopupPanel).__methods(function(){function b(n,r){n=f(n);r===true?k.add(n,a):k.remove(n,a)}function f(n){var r=n.__button;if(!r){r=j.create("span",{cssClass:"menu-btn",children:[{tag:"span",text:n.text()}]});n.__btnMouseover=g.mouseover(r,function(){k.add(r,
h);var t=n.__onButtonMouseover;t&&t(n)});n.__btnMouseout=g.mouseout(r,function(){k.remove(r,h)});n.__btnClick=g.click(r,function(){n.show()});n.__button=r}return r}function d(n){var r=n.__ulItems;if(!r){r=j.create("ul",{cssClass:"menu-items-ul"});n.__ulItems=r}return r}var h="ui-state-hover menu-btn-hover",a="ui-state-active menu-btn-active";return{__init:function(n){n=n||{};this.__menuBar=n._menuBar;this.__onMenuShow=l.getFunc(n._onShow,null);this.__onMenuHide=l.getFunc(n._onHide,null);this.__onButtonMouseover=
l.getFunc(n._onButtonMouseover,null);this.__minWidth=l.getNum(n.minWidth,0);this.__itemClick=l.getFunc(n.itemClick,null);this.__arrItems=[];this.__htItems=new q;this.__lastOverItem=null;var r=this;this.__onItemClick=function(t){r.hide();var u=r.__itemClick;u&&u(t)};this.__onItemMouseover=function(t){var u=r.__lastOverItem;if(u)(u=u.child())&&u.hide();r.__lastOverItem=t};this.__super("__init",arguments,o.merge(n,{cssClass:p.trimJoin(["ui-widget-content oui-menu",n.cssClass]," "),beforeShow:function(){var t=
r.box();m.set(t,"width","auto");k.add(t,"oui-menu-ie-resizing");var u=Math.max(j.width(t)+2,r.__minWidth);j.width(t,u);k.remove(t,"oui-menu-ie-resizing")},onShow:function(){var t=r.__onMenuShow;t&&t(r)},onHide:function(){b(r,false);var t=r.__onMenuHide;t&&t(r)}}));j.append(this.box(),d(this));this.__menuId=n.menuId||this.id();this.enabled(n.enabled||true);this.text(n.text)},addItem:function(n){var r=this.__htItems;n=new c(o.merge(n,{_menu:this,_click:this.__onItemClick,mouseover:this.__onItemMouseover}));
j.append(d(this),n.box());var t=n.itemId();if(r.contains(t))throw new Error("\u5df2\u5b58\u5728itemId\u4e3a"+t+"\u7684\u9879");r.put(t,n);this.__arrItems.push(n);return n},menuBar:function(){return this.__menuBar},show:function(n){n=n||{};this.__tag=n.tag;if(!this.menuBar()&&!n.target)throw new Error("target\u53c2\u6570\u9519\u8bef");else if(!n.target){n.target=this.btnBox();b(this,true)}if(this.__super("show",arguments,n)===false)return false},btnBox:function(){var n=this.__btnBox;if(!n)this.__btnBox=
n=j.create("li",{cssClass:"menu-btn-outer",children:[f(this)]});return n},enabled:function(n){if(l.isBool(n)){if(n!==this.__enabled)this.__enabled=n}else return this.__enabled},item:function(n){if(l.isUndefOrNull(n))throw new Error("\u53c2\u6570 o \u9519\u8bef");return l.isNum(n)?this.__arrItems[n]:this.__htItems.get(n)},text:function(n){if(l.isStr(n))this.__text=n;else return this.__text},menuId:function(){return this.__menuId},tag:function(){return this.__tag},destroy:function(){delete this.__box}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.StrUtil,p=onyx.util.ObjUtil,o=onyx.util.ArrayUtil,j=onyx.util.TypeUtil,m=onyx.util.DomUtil,k=onyx.util.ClassUtil,g=onyx.ui.Menu;__package("onyx.ui").__class("MenuBar").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function c(b){var f=b.__ulMenus;if(!f){f=m.create("ul",{cssClass:"menus-ul"});b.__ulMenus=f}return f}return{__init:function(b){b=b||{};this.__arrMenus=[];this.__htMenus=new q;this.__showingMenu=null;this.__menusCssClass=
j.getStr(b.menusCssClass,null);this.__menuMinWidth=j.getNum(b.menuMinWidth,null);this.__menuItemClick=j.getFunc(b.menuItemClick,null);var f=this;this.__onMenuShow=function(d){f.__showingMenu=d};this.__onMenuHide=function(){f.__showingMenu=null};this.__super("__init",arguments,p.merge(b,{box:this.box(b)}))},addMenu:function(b){var f=this,d=this.__htMenus,h=j.getFunc(b.itemClick,null);b=new g(p.merge(b,{cssClass:l.trimJoin([this.__menusCssClass,b.cssClass]," "),minWidth:b.minWidth||this.__menuMinWidth,
itemClick:function(n){var r=f.__menuItemClick;r&&r(n);h&&h(n)},_menuBar:this,_onShow:this.__onMenuShow,_onHide:this.__onMenuHide,_onButtonMouseover:function(n){var r=f.__showingMenu;if(r){r.hide();n.show()}}}));m.append(c(this),b.btnBox());var a=b.menuId();if(d.contains(a))throw new Error("\u5df2\u5b58\u5728menuId\u4e3a"+a+"\u7684\u9879");d.put(a,b);this.__arrMenus.push(b);return b},addMenuItem:function(b){var f=b.menuId;if(j.isUndefOrNull(f))throw new Error("\u53c2\u6570menuId\u9519\u8bef");var d=
this.__htMenus.get(f);if(!d)throw new Error("menuId\u4e3a"+f+"\u7684\u83dc\u5355\u4e0d\u5b58\u5728");return d.addItem(b)},menuByIndex:function(b){if(!j.isNum(b))throw new Error("\u53c2\u6570i\u9519\u8bef");return this.__arrItems[b]},menuById:function(b){if(!j.isUndefOrNull(b))throw new Error("\u53c2\u6570o\u9519\u8bef");return this.__htMenus.get(b)},removeMenu:function(b){if(!j.isNum(b))throw new Error("\u53c2\u6570i\u9519\u8bef");var f=this.__arrMenus,d=f[b];if(d){d=d.menuId();o.remove(f,b);j.isUndefOrNull(d)||
this.__htMenus.remove(d)}},close:function(){var b=this.__showingMenu;b&&b.hide()},box:function(b){var f=this.__box;if(!f&&b){b=b.box;f=j.isUndef(b)?m.create("div"):m.get(b);k.add(f,"ui-state-default oui-menu-bar");m.append(f,c(this));this.__box=f}return f},destroy:function(){delete this.__box}}}())})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.DomUtil,p=onyx.util.ClassUtil;__package("onyx.ui").__class("Toolbar").__extends(onyx.ui.Box).__implements(onyx.ui.IUI).__methods(function(){function o(g,c){c=g.box(c);var b=l.create("tr",{children:[{tag:"td",children:[k(g,"oui-toolbar-left-tb",j(g))]},{tag:"td",children:[k(g,"oui-toolbar-right-tb",m(g))]}]});g=k(g,"oui-toolbar-table",b);l.append(c,g)}function j(g){var c=g.__trLeft;if(!c){c=l.create("tr",{cssClass:"oui-toolbar-tr"});g.__trLeft=c}return c}
function m(g){var c=g.__trRight;if(!c){c=l.create("tr",{cssClass:"oui-toolbar-tr"});g.__trRight=c}return c}function k(g,c,b){g=l.createTable({cssClass:c});l.set(g,{children:[{tag:"tbody",children:[b]}]});return g}return{__init:function(g){o(this,g);this.__super("__init",arguments,{box:this.box()});var c=g.children;if(c)for(var b=0,f=c.length;b<f;b++)this.add(c[b])},add:function(g,c){c=c==="right"?m(this):j(this);var b=l.create("td",{cssClass:"oui-toolbar-td"});if(g==="|"){g=l.create("span",{cssClass:"ui-state-default toolbar-separator"});
l.append(b,g)}else q.isFunc(g.box)?l.append(b,g.box()):l.append(b,g);l.append(c,b);return this},box:function(g){var c=this.__box;if(!c){c=(c=g.box)?l.get(c):l.create("div");p.add(c,"oui-toolbar");g=g.cssClass;q.isStr(g)&&p.add(c,g);this.__box=c}return c},destroy:function(){}}}())})();
(function(){__package("onyx.ui.form").__interface("IFormField").__methods({name:function(){},box:function(){},id:function(){},editabled:function(){},enabled:function(){},apply:function(){},empty:function(){},isChanged:function(){},value:function(){},ajaxOpt:function(){},destroy:function(){}})})();
(function(){var q=onyx.util.TypeUtil,l=onyx.util.ObjUtil,p=onyx.util.DomUtil;__package("onyx.ui.form").__class("ReadOnlyTextBox").__extends(onyx.ui.Box).__methods(function(){return{__init:function(o){o=o||{};this.__super("__init",arguments,l.merge(o,{box:this.box(o)}))},value:function(o){if(o===null)o="";if(q.isStr(o))this.box().value=o},box:function(){var o=this.__box;if(!o){o=p.create("input",{cssClass:"readonly-textbox",attrs:{type:"text"}});o.readOnly=true;this.__box=o}return o},destroy:function(){}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.util.ClassUtil,j=onyx.util.CssUtil,m=onyx.util.DomUtil,k=onyx.ui.Label,g=onyx.ui.form.ReadOnlyTextBox;__package("onyx.ui.form").__class("FormField").__extends(onyx.ui.Box).__methods(function(){function c(d){var h=d.box();m.set(h,{children:[b(d),f(d)]})}function b(d){var h=d.__divLabelOuter;if(!h){h=m.create("div",{cssClass:"label-outer",children:[d._label().box()]});d.form().display()==="table"&&o.add(h,"ui-state-default");
d.__divLabelOuter=h}return h}function f(d){var h=d.__divCtrlOuter;if(!h){h=m.create("div",{cssClass:"ctrl-outer"});d.__noReadonlyCtrl||m.append(h,d._readonlyCtrl().box());m.append(h,d.ctrl().box());d.__divCtrlOuter=h}return h}return{__init:function(d){d=d||{};var h=l.getStr(d.name,null);q.isEmpty(h)&&onyx.error("\u53c2\u6570name\u9519\u8bef");this.__name=h;(h=l.getObj(d._form,null))||onyx.error("\u53c2\u6570_form\u9519\u8bef");this.__form=h;this.__noReadonlyCtrl=l.getBool(d.noReadonlyCtrl,false);
this.__readOnly=l.getBool(d.readOnly,false);(h=l.getObj(d.ctrl,null))||onyx.error("\u53c2\u6570_ctrl\u9519\u8bef");this.__noReadonlyCtrl||h.visibled(false);this.__ctrl=h;this.__readonlyCtrl=d.readonlyCtrl;this.__ajaxOpt=l.getObj(d.ajaxOpt,null);this.__ctrlWidth=l.getNum(d.width,null);this.__super("__init",arguments,p.merge(d,{box:this.box(d),width:null}));this.__colspan=l.getNum(d.colspan,1);this.__editabled=false;this.__enabled=true;c(this);this.labelText(d.labelText);this.editabled(d.editabled);
this.enabled(d.enabled)},name:function(){return this.__name},labelText:function(d){if(l.isStr(d)){this._label().text(d);this.__labelText=d}else return this.__labelText},editabled:function(d){var h=this.__editabled;if(l.isBool(d)){if(d!==h)if(!(d===true&&this.readOnly())){if(!this.__noReadonlyCtrl){h=this.ctrl();var a=this._readonlyCtrl();if(d){h.visibled(true);a.visibled(false)}else{h.visibled(false);a.visibled(true)}}this.__editabled=d;this.resize()}}else return h},enabled:function(d){var h=this.__enabled;
if(l.isBool(d)){if(d!==h){this.ctrl().enabled(d);this.__enabled=d}}else return h},readOnly:function(d){var h=this.__readOnly;if(l.isBool(d)){if(d!==h)this.__readOnly=d}else return h},colspan:function(){return this.__colspan},form:function(){return this.__form},resize:function(){var d=this.box(),h=this.form(),a=h.display(),n=this.ctrl(),r=b(this),t=f(this);if(a!=="free"){var u=h.fieldWidth();h=h.labelWidth();this.width(u*this.colspan());m.width(r,h);m.width(t,m.clientWidth(d)-h)}if(this.__noReadonlyCtrl||
this.editabled()){if(a==="free")m.clientWidth(d,m.outerWidth(r)+m.outerWidth(t));else if(a==="table"){d=n.box();n.width(m.clientWidth(t)-j.margin(d,"left")-j.margin(d,"right"))}else(t=this.__ctrlWidth)&&n.width(t);t=n.resize;l.isFunc(t)&&t.call(n)}else{n=this._readonlyCtrl();d=n.box();n.width(m.clientWidth(t)-j.margin(d,"left")-j.margin(d,"right"));t=n.resize;l.isFunc(t)&&t.call(n)}},_label:function(){var d=this.__label;if(!d)this.__label=d=(d=(d=m.byClass(this.box(),"form-label"))&&d.length>0?d[0]:
null)?new k({box:d,cssClass:"form-label"}):new k({cssClass:"form-label"});return d},ctrl:function(){return this.__ctrl},_readonlyCtrl:function(){var d=this.__readonlyCtrl;if(!d)this.__readonlyCtrl=d=new g;return d},isChanged:function(){return this.ctrl().value()!==this.__value},box:function(d){var h=this.__box;if(!h&&d){h=d.box;h=l.isUndef(h)?new m.create("div"):m.get(h);var a=[];this.form().display()==="table"&&a.push("ui-widget-content");a.push("oui-form-field");a.push(d.cssClass);o.add(h,q.trimJoin(a,
" "));this.__box=h}return h},ajaxOpt:function(){var d=this.__ajaxOpt;if(d){var h=this,a=d.callblack;if(l.isFunc(a))d.callblack=function(n){a.call(h,n)}}return d},destroy:function(){}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.ui.TextBox;__package("onyx.ui.form").__class("FormTextField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function j(m,k){var g=m.__textBox;if(!g){var c=k.box;delete k.box;g=new o(k);k.box=c;m.__textBox=g}return g}return{__init:function(m){m=m||{};var k=l.getObj(m.ctrl,j(this,m));this.__super("__init",arguments,p.merge(m,{cssClass:q.trimJoin(["text-field",m.cssClass],
" "),ctrl:k}));this.__textBox=k;this.__value=""},editabled:function(m){var k=this.__super("editabled",arguments);if(l.isBool(m)&&m!==k){k=this.__value;m?j(this).value(k):this._readonlyCtrl().value(k)}return this.__super("editabled",arguments,m)},apply:function(){this.__value=j(this).value()},value:function(m){var k=j(this);if(l.isUndef(m))return this.__value;else{if(m===null)m="";m=m+"";this._readonlyCtrl().value(m);k.value(m);this.__value=m}},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.ui.Datepicker;__package("onyx.ui.form").__class("FormDateField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function j(m,k){var g=m.__datepicker;if(!g){var c=k.box;delete k.box;g=new o(k);k.box=c;m.__datepicker=g}return g}return{__init:function(m){m=m||{};var k=l.getObj(m.ctrl,j(this,m));this.__super("__init",arguments,p.merge(m,{cssClass:q.trimJoin(["date-field",m.cssClass],
" "),ctrl:k}));this.__value=null},editabled:function(m){var k=this.__super("editabled",arguments);if(l.isBool(m)&&m!==k){k=this.__value;var g=j(this);m?g.value(k):this._readonlyCtrl().value(k)}return this.__super("editabled",arguments,m)},apply:function(){this.__value=j(this).value()},value:function(m){var k=j(this);if(l.isUndef(m))return this.__value;else{k.value(m);this.__value=m}},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.ui.TextArea;__package("onyx.ui.form").__class("FormTextAreaField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function j(m,k){var g=m.__textArea;if(!g){var c=k.box;delete k.box;g=new o(k);g.readonly(true);k.box=c;m.__textArea=g}return g}return{__init:function(m){m=m||{};var k=l.getObj(m.ctrl,j(this,m));this.__super("__init",arguments,p.merge(m,{cssClass:q.trimJoin(["textarea-field",
m.cssClass]," "),ctrl:k,noReadonlyCtrl:true}));this.__value="";this.height(m.height);this.resize()},editabled:function(m){var k=this.__super("editabled",arguments);if(l.isBool(m)&&m!==k){k=j(this);k.box();this.box();k.value(this.__value);k.readonly(!m)}return this.__super("editabled",arguments,m)},height:function(m){if(l.isNum(m))this.__height=m;else return this.__height},resize:function(){var m=j(this);m.height(this.height());this.__super("resize",arguments);m.resize()},apply:function(){this.__value=
j(this).value()},value:function(m){var k=j(this);if(l.isUndef(m))return this.__value;else{if(m===null)m="";m=m+"";k.value(m);this.__value=m}},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.ui.Select;__package("onyx.ui.form").__class("FormSelectField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function j(m,k){var g=m.__select;if(!g){var c=k.box;delete k.box;g=new o(k);k.box=c;m.__select=g}return g}return{__init:function(m){m=m||{};var k=l.getObj(m.ctrl,j(this,m));this.__select=k;this.__super("__init",arguments,p.merge(m,{cssClass:q.trimJoin(["select-field",
m.cssClass]," "),ctrl:k}));this.__value=null},editabled:function(m){var k=this.__super("editabled",arguments);if(l.isBool(m)&&m!==k){k=this.__value;var g=j(this),c=g.itemByVal(k);if(m)c?g.value(k):g.selectNone();else this._readonlyCtrl().value(c?c.text():"")}return this.__super("editabled",arguments,m)},apply:function(){this.__value=j(this).value()},value:function(m){var k=j(this);if(l.isUndef(m))return this.__value;else{k.value(m);k=k.selectedItem();this._readonlyCtrl().value(k?k.text():"");this.__value=
m}},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.TypeUtil,p=onyx.util.ObjUtil,o=onyx.ui.Select;__package("onyx.ui.form").__class("FormBoolField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function j(m,k){var g=m.__select;if(!g){var c=k.box;delete k.box;g=new o(k);g.clearItems();g.addItems([{text:"\u662f",value:true},{text:"\u5426",value:false}]);k.box=c;m.__select=g}return g}return{__init:function(m){m=m||{};var k=j(this,m);this.__super("__init",arguments,
p.merge(m,{cssClass:q.trimJoin(["bool-field",m.cssClass]," "),ctrl:k}));this.__select=k;this.__value=null},editabled:function(m){var k=this.__super("editabled",arguments);if(l.isBool(m)&&m!==k){k=this.__value;var g=j(this),c=g.itemByVal(k);if(m)c?g.value(k):g.selectNone();else this._readonlyCtrl().value(c?c.text():"")}return this.__super("editabled",arguments,m)},apply:function(){this.__value=j(this).value()},value:function(m){var k=j(this);if(l.isUndef(m))return this.__value;else{k.value(m);k=k.selectedItem();
this._readonlyCtrl().value(k?k.text():"");this.__value=m}},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.util.StrUtil,l=onyx.util.DomUtil,p=onyx.util.TypeUtil,o=onyx.util.ObjUtil,j=onyx.util.CssUtil,m=onyx.util.ClassUtil;__package("onyx.ui.form").__class("FormEditorField").__extends(onyx.ui.form.FormField).__implements(onyx.ui.form.IFormField).__methods(function(){function k(c){var b=c.__textarea;if(!b){b=new onyx.ui.TextArea({});var f=l.firstChild(b.box());l.attr(f,"id",c.__textAreaId);m.add(b.box(),"field-border-none");c.__textarea=b}return b}function g(c){var b=c.__editor;if(!b){var f=
c.__opt,d=f.box;delete f.box;(b=KindEditor.create("#"+c.__textAreaId,o.merge({allowPreviewEmoticons:false,allowImageUpload:false,resizeMode:1,items:["fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","removeformat","|","justifyleft","justifycenter","justifyright","insertorderedlist","insertunorderedlist","|","emoticons","oakimage","image","link"]},f)))&&b.readonly(true);f.box=d;c.__editor=b}return b}return{__init:function(c){c=c||{};this.__textAreaId=l.randId();this.__super("__init",
arguments,o.merge(c,{cssClass:q.trimJoin(["textarea-field",c.cssClass]," "),ctrl:k(this),noReadonlyCtrl:true}));this.__value="";this.height(c.height);this.__width=p.getNum(c.width,400);this.__opt=c;this.resize()},editabled:function(c){var b=this.__super("editabled",arguments);if(p.isBool(c)&&c!==b){b=g(this);b.html(this.__value);b.readonly(!c)}return this.__super("editabled",arguments,c)},height:function(c){if(p.isNum(c))this.__height=c;else return this.__height},resize:function(){this.__super("resize",
arguments);var c=k(this).box();j.set(c,"width","auto");(c=g(this))&&c.resize(this.__width,null)},apply:function(){this.__value=g(this).html()},value:function(c){if(p.isStr(c))try{g(this).html(c);this.__value=c}catch(b){}else return this.__value},empty:function(){this.value("")}}}())})();
(function(){var q=onyx.Browser,l=onyx.Hashtable,p=onyx.util.StrUtil,o=onyx.util.TypeUtil,j=onyx.util.ClassUtil,m=onyx.util.ObjUtil,k=onyx.util.DomUtil,g=onyx.ui.Panel,c=onyx.ui.form.FormTextField,b=onyx.ui.form.FormDateField,f=onyx.ui.form.FormTextAreaField,d=onyx.ui.form.FormSelectField,h=onyx.ui.form.FormBoolField,a=onyx.ui.form.FormEditorField;__package("onyx.ui.form").__class("Form").__extends(onyx.ui.Panel).__methods(function(){function n(u,v){if(q.isIE8())setTimeout(function(){u.resize();v&&
v.call(u)},1);else{u.resize();v&&v.call(u)}}function r(u){switch(u){case "text":return c;case "date":return b;case "textarea":return f;case "select":return d;case "bool":return h;case "editor":return a;default:return null}}function t(u,v){var x=u.__panelFields;if(!x){v=v||{};x=v.fieldsPanel;x=o.isUndef(x)?u:new g({box:x});v=x.box();var z=u.display(),C=[];z==="table"&&C.push("ui-widget-content");C.push("oui-form-fields");z!=="free"&&C.push("oui-form-align");C.push("oui-form-"+z);j.add(v,C.join(" "));
u.__panelFields=x}return x}return{__init:function(u){u=u||{};this.__frame=u.frame;this.__super("__init",arguments,m.merge(u,{cssClass:p.trimJoin(["oui-form",u.cssClass]," ")}));this.__htFields=new l;this.__arrFields=[];this.__labelWidth=o.getNum(u.labelWidth,80);this.__fieldWidth=o.getNum(u.fieldWidth,200);this.__cols=o.getNum(u.cols,1);var v=o.getStr(u.display,"free");v!=="free"&&v!=="table"&&v!=="panel"&&onyx.error("\u53c2\u6570display\u9519\u8bef");this.__display=v;t(this,u);n(this,function(){var x=
u.fields;if(o.isArray(x))for(var z=0,C=x.length;z<C;z++)this.addField(x[z])});n(this);this.__inited=true;this.editabled(u.editabled)},display:function(){return this.__display},data:function(u){if(this.__inited!==true)return null;var v=this.__arrFields;if(o.isObj(u)){for(var x=0,z=v.length,C;x<z;x++){C=v[x];C.value(u[C.name()])}this.__data=u;return this}else{u=this.__data||{};x=0;for(z=v.length;x<z;x++){C=v[x];u[C.name()]=C.value()}return u}},reset:function(){this.data(this.__data||{});return this},
frame:function(){return this.__frame},clear:function(){for(var u=this.__arrFields,v=0,x=u.length;v<x;v++)u[v].empty();return this},state:function(){return this.__state},editabled:function(u,v){if(!this.__inited||!o.isBool(u))return null;if(o.isStr(v)){v=v.split(",");for(var x,z=0,C=v.length;z<C;z++){(x=this.field(v[z]))||onyx.error("\u5b57\u6bb5"+v[z]+"\u4e0d\u5b58\u5728");x.editabled(u);x=x.ctrl();var F=x.resize;F&&F.call(x)}}else{v=this.__arrFields;z=0;for(C=v.length;z<C;z++){x=v[z];x.editabled(u);
x=x.ctrl();(F=x.resize)&&F.call(x)}}return this},enabled:function(u,v){if(!this.__inited||!o.isBool(u))return null;if(o.isStr(v)){v=v.split(",");for(var x,z=0,C=v.length;z<C;z++){(x=this.field(v[z]))||onyx.error("\u5b57\u6bb5"+v[z]+"\u4e0d\u5b58\u5728");x.enabled(u)}}else{v=this.__arrFields;z=0;for(C=v.length;z<C;z++)v[z].enabled(u)}return this},isChanged:function(){for(var u=this.__arrFields,v=0,x=u.length;v<x;v++)if(u[v].isChanged())return true;return false},ajaxOpts:function(){for(var u=this.__arrFields,
v=[],x=0,z=u.length,C;x<z;x++)(C=u[x])&&v.push(C);return v},cols:function(){return this.__cols},labelWidth:function(){return this.__labelWidth},fieldWidth:function(){return this.__fieldWidth},ctrl:function(u){return(u=this.field(u))?u.ctrl():null},apply:function(){for(var u=this.__arrFields,v=0,x=u.length,z;v<x;v++){z=u[v];z.apply()}return this},field:function(u){return this.__htFields.get(u)},addField:function(u){this.display()!=="free"&&delete u.box;var v=u.box,x=u.type;if(o.isStr(x))x=r(x);o.isFunc(x)||
onyx.error("\u53c2\u6570fieldType\u9519\u8bef");u=new x(m.merge(u,{_form:this}));o.isUndef(v)&&t(this).append(u);v=this.__htFields;x=u.name();v.contains(x)&&onyx.error("\u5df2\u5b58\u5728\u540d\u79f0\u4e3a"+x+"\u7684\u5b57\u6bb5");v.put(x,u);this.__arrFields.push(u)},resize:function(){var u=this.visibled();if(!u){this.tran(true);this.visibled(true)}this.display()!=="free"&&k.clientWidth(t(this).box(),this.fieldWidth()*this.cols());for(var v=this.__arrFields,x=0,z=v.length;x<z;x++)v[x].resize();if(!u){this.tran(false);
this.visibled(false)}}}}())})();
(function(){var q=onyx.util.TypeUtil;__package("onyx.widget").__class("Uploader").__methods(function(){function l(p){var o=p.__swfUpload,j=onyx.conf("swfUploadHome");if(!o){o=new SWFUpload({upload_url:p.uploadUrl(),post_params:p.postParams(),file_size_limit:p.fileSizeLimit(),file_types:p.fileTypes(),file_types_description:p.fileTypesDesc(),file_upload_limit:p.fileUploadLimit(),file_queue_limit:p.fileQueueLimit(),file_dialog_start_handler:p.__onFileDialogStart,file_queued_handler:p.__onFileQueued,file_queue_error_handler:function(m,
k,g){(m=p.__onFileQueueError)&&m.call(p);console.log("code:"+k+"| message:"+g)},upload_start_handler:p.__onUploadStart,upload_progress_handler:p.__onUploadProgress,upload_error_handler:function(m,k,g){if(k=="-280")return false;var c=p.__onUploadError;console.log("code:"+k+"| message:"+g+" url:"+p.uploadUrl());c&&c.call(p,m,k,g)},upload_success_handler:p.__onUploadSuccess,swfupload_loaded_handler:p.__onLoaded,mouse_over_handler:p.__onMouseOver,button_image_url:j+"/buttons/XPButtonUploadText_61x22.png",
button_placeholder_id:p.__buttonId,button_width:p.__buttonWidth,button_height:22,flash_url:j+"/swf/swfupload.swf",flash9_url:j+"/swf/swfupload_fp9.swf",debug:true});p.__swfUpload=o}return o}return{__init:function(p){p=p||{};this.__inited=false;this.__buttonWidth=62;this.__buttonId=q.getStr(p.buttonId,null);this.uploadUrl(q.getStr(p.uploadUrl,null));this.fileSizeLimit(q.getStr(p.fileSizeLimit,"2048"));this.fileTypes(q.getStr(p.fileTypes,"*.*"));this.fileTypesDesc(q.getStr(p.fileTypesDesc,"\u6587\u4ef6"));
this.fileUploadLimit(q.getNum(p.fileUploadLimit,1));this.fileQueueLimit(q.getNum(p.fileQueueLimit,40));this.postParams(q.getObj(p.postParams,{}));this.enabled(q.getBool(p.enabled,true));this.enabled(q.getBool(p.enabled,true));this.__onLoaded=q.getFunc(p.onLoaded,null);this.__onFileDialogStart=q.getFunc(p.onFileDialogStart,null);this.__onFileQueued=q.getFunc(p.onFileQueued,null);this.__onFileQueueError=q.getFunc(p.onFileQueueError,null);this.__onUploadStart=q.getFunc(p.onUploadStart,null);this.__onUploadSuccess=
q.getFunc(p.onUploadSuccess,null);this.__onUploadProgress=q.getFunc(p.onUploadProgress,null);this.__onUploadError=q.getFunc(p.onUploadError,null);this.__onMouseOver=q.getFunc(p.onMouseOver,null);q.getBool(p.autoInit,true)&&this.init()},init:function(){if(this.__inited==false){this.__inited=true;l(this);var p=this;setTimeout(function(){l(p).setButtonDisabled(!p.enabled())},200)}},inited:function(){return this.__inited},startUpload:function(){this.inited()&&l(this).startUpload()},cancelUpload:function(p){if(this.inited()){var o=
l(this);q.isUndef(p)?o.cancelUpload():o.cancelUpload(p)}},stopUpload:function(){this.inited()&&l(this).stopUpload()},uploadUrl:function(p){if(q.isStr(p))this.__uploadUrl=p;else return this.__uploadUrl},fileSizeLimit:function(p){if(q.isStr(p)){this.inited()&&l(this).setFileSizeLimit(p);this.__fileSizeLimit=p}else return this.__fileSizeLimit},fileTypes:function(p,o){if(q.isStr(p)){this.inited()&&l(this).setFileTypes(p,o);this.__fileTypesDesc=o;this.__fileTypes=p}else return this.__fileTypes},fileTypesDesc:function(p){if(q.isStr(p))this.__fileTypesDesc=
p;else return this.__fileTypesDesc},fileUploadLimit:function(p){if(q.isNum(p))this.__fileUploadLimit=p;else return this.__fileUploadLimit},fileQueueLimit:function(p){if(q.isNum(p))this.__fileQueueLimit=p;else return this.__fileQueueLimit},postParams:function(p){if(q.isObj(p)){this.inited()&&l(this).setPostParams(p);this.__uploadParams=p}else return this.__postParams},enabled:function(p){var o=this.__enabled;if(q.isBool(p)){this.inited()&&l(this).setButtonDisabled(!p);this.__enabled=p}else return o}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil;__package("onyx.widget.data").__class("ActionResult").__methods(function(){function o(j,m){j=j.__fileds;for(var k=Math.min(j.length,m.length),g={},c=0;c<k;c++)g[j[c]]=m[c];if(c<j.length)for(m=j.length;c<m;c++)g[j[c]]=null;return g}return{__init:function(j){this.__name=j.n;this.__fileds=j.f.split(",");this.__values=[];this.__htValues=new q;var m=this;p.each(j.v,function(k){m.__values.push(o(m,k))})},name:function(){return this.__name},
fileds:function(){return this.__fileds},first:function(){return this.__values[0]},get:function(j,m,k){if(l.isNum(j))return this.__values[j];else if(l.isStr(j))if(l.isUndef(m))throw new Error("val\u53c2\u6570\u672a\u5b9a\u4e49");else{var g,c;c=this.__htValues;if(c.contains(j))g=c.get(j);else{g=new q;c.put(j,g)}if(g.contains(m))c=g.get(m);else{c=[];for(var b=0,f=this.__values.length;b<f;b++){var d=this.__values[b];d[j]==m&&c.push(d)}g.put(m,c)}if(l.isUndef(k))return c;else if(l.isNum(k))if(k<0||k>c.length)throw new Error("\u53c2\u6570index\u8d85\u51fa\u7d22\u5f15\u8303\u56f4");
else return c[k];else throw new Error("\u53c2\u6570index\u5fc5\u987b\u662f\u6574\u5f62\u7c7b\u578b");}},size:function(){return this.__values.length},arr:function(){return this.__values},each:function(j){for(var m=0,k=this.size();m<k;m++)j(this.__values[m],m)}}}())})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.widget.data.ActionResult;__package("onyx.widget.data").__class("ActionResponse").__methods({__init:function(j){this.__status=j.s;this.__msg=j.m;this.__rdt=j.rdt;this.__results=[];this.__htResults=new q;var m=this;p.each(j.r,function(k){k=new o(k);m.__results.push(k);m.__htResults.put(k.name(),k)})},succ:function(){return this.__status==1},status:function(){return this.__status},msg:function(){return this.__msg},rdt:function(){return this.__rdt},
results:function(){return this.__results},result:function(j){if(l.isNum(j))return this.__results[j];else if(l.isStr(j))return this.__htResults.get(j)}})})();
(function(){var q=onyx.Hashtable,l=onyx.util.TypeUtil,p=onyx.util.ArrayUtil,o=onyx.widget.data.ActionResponse;CFN_ACT_DEFAULT="default";CFN_ACT_HANDLERS="handlers";__package("onyx.widget.data").__class("ActReqHandler").__static(function(){function j(c){var b=c.param;if(l.isObj(b))c.prms={first:b};var f=c.prms;b=[];if(l.isObj(f))for(var d in f){var h=[],a=f[d];if(!l.isFunc(a)){if(l.isArray(a))l.isObj(a)||(a=[{unname:a}]);else a=[a];a=a;var n=[],r=a[0];for(var t in r)n.push(t);r=0;for(var u=a.length,
v;r<u;r++){var x=[];v=a[r];for(var z=0,C=n.length,F;z<C;z++){F=n[z];x.push(v[F])}h.push(x)}h={n:d,f:n.join(","),v:h};b.push(h)}}c={act:c.act};if(b.length>0)c.prms=b;return c}function m(c){if(c.length==1)return c[0].single!==false;return false}function k(c){var b=onyx.conf("ajax"),f=null;if(l.isUndef(b))throw new Error('\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f"ajax"\u9519\u8bef!');if(l.isUndef(b.handlers))throw new Error('\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f"ajax.handlers"\u9519\u8bef!');if(c.handler){f=
b.handlers[c.handler];if(!l.isStr(f))throw new Error('\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f"ajax.handlers.'+c.handler+'"\u9519\u8bef!');}else{c=b.defaultHandler;if(!l.isStr(c))throw new Error('\u8bfb\u53d6\u914d\u7f6e\u4fe1\u606f"ajax.defaultHandler"\u9519\u8bef!');f=b.handlers[c]}return f}var g=new q;return{post:function(c,b){b=b||{};var f=onyx.data.Ajax,d=[],h={reqs:[]},a=k(b);l.isArray(c)||(c=[c]);if(m(c)){var n=g.get(c[0].act);n&&n.abort()}p.each(c,function(u){var v=u.callback;l.isFunc(v)?d.push(v):
d.push(null);h.reqs.push(j(u))});var r=c[0].act,t=JSON.stringify(h);f=f.send({url:a,dataType:"json",data:t,onabort:function(){var u=c[0].act;g.contains(u)&&g.remove(u)},callback:function(u){m(c)&&g.contains(r)&&g.remove(r);var v=null;try{v=JSON.parse(u.text)}catch(x){l.isFunc(b.onJsonParseErr)&&b.onJsonParseErr({rtTxt:u.text,postData:t})}u=true;if(l.isFunc(b.onLoad))u=b.onLoad(v);if(u!==false&&v){var z=0,C=v.rps.length;p.each(v.rps,function(E,I){var P=d[I];if(P){E.rdt=v.dt;setTimeout(function(){P(new o(E),
v);z++;if(z===C){var Q=b.callback;Q&&setTimeout(function(){Q(v)},1)}},1)}});var F=b.finish;l.isFunc(F)&&setTimeout(function(){F()},1)}}});m(c)&&g.set(r,f);return f}}}())})();
